"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_sc_client_node_modules_spotlight_js_src_js_spotlight_js";
exports.ids = ["_sc_client_node_modules_spotlight_js_src_js_spotlight_js"];
exports.modules = {

/***/ "(sc_client)/./node_modules/spotlight.js/src/js/config.js":
/*!****************************************************!*\
  !*** ./node_modules/spotlight.js/src/js/config.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"controls\": () => (/* binding */ controls),\n/* harmony export */   \"controls_default\": () => (/* binding */ controls_default),\n/* harmony export */   \"keycodes\": () => (/* binding */ keycodes)\n/* harmony export */ });\nconst controls = [\r\n\r\n    \"theme\",\r\n    \"download\",\r\n    \"play\",\r\n    \"page\",\r\n    \"close\",\r\n    \"autofit\",\r\n    \"zoom-in\",\r\n    \"zoom-out\",\r\n    \"prev\",\r\n    \"next\",\r\n    \"fullscreen\"\r\n];\r\n\r\nconst controls_default = {\r\n\r\n    \"page\": 1,\r\n    \"close\": 1,\r\n    \"autofit\": 1,\r\n    \"zoom-in\": 1,\r\n    \"zoom-out\": 1,\r\n    \"prev\": 1,\r\n    \"next\": 1,\r\n    \"fullscreen\": 1\r\n};\r\n\r\n/**\r\n * @enum {number}\r\n */\r\n\r\nconst keycodes = {\r\n\r\n    BACKSPACE: 8,\r\n    ESCAPE: 27,\r\n    SPACEBAR: 32,\r\n    LEFT: 37,\r\n    RIGHT: 39,\r\n    UP: 38,\r\n    NUMBLOCK_PLUS : 107,\r\n    PLUS: 187,\r\n    DOWN: 40,\r\n    NUMBLOCK_MINUS: 109,\r\n    MINUS: 189\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNjX2NsaWVudCkvLi9ub2RlX21vZHVsZXMvc3BvdGxpZ2h0LmpzL3NyYy9qcy9jb25maWcuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3Nwb3RsaWdodC5qcy9zcmMvanMvY29uZmlnLmpzPzA0ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbnRyb2xzID0gW1xyXG5cclxuICAgIFwidGhlbWVcIixcclxuICAgIFwiZG93bmxvYWRcIixcclxuICAgIFwicGxheVwiLFxyXG4gICAgXCJwYWdlXCIsXHJcbiAgICBcImNsb3NlXCIsXHJcbiAgICBcImF1dG9maXRcIixcclxuICAgIFwiem9vbS1pblwiLFxyXG4gICAgXCJ6b29tLW91dFwiLFxyXG4gICAgXCJwcmV2XCIsXHJcbiAgICBcIm5leHRcIixcclxuICAgIFwiZnVsbHNjcmVlblwiXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgY29udHJvbHNfZGVmYXVsdCA9IHtcclxuXHJcbiAgICBcInBhZ2VcIjogMSxcclxuICAgIFwiY2xvc2VcIjogMSxcclxuICAgIFwiYXV0b2ZpdFwiOiAxLFxyXG4gICAgXCJ6b29tLWluXCI6IDEsXHJcbiAgICBcInpvb20tb3V0XCI6IDEsXHJcbiAgICBcInByZXZcIjogMSxcclxuICAgIFwibmV4dFwiOiAxLFxyXG4gICAgXCJmdWxsc2NyZWVuXCI6IDFcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAZW51bSB7bnVtYmVyfVxyXG4gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBrZXljb2RlcyA9IHtcclxuXHJcbiAgICBCQUNLU1BBQ0U6IDgsXHJcbiAgICBFU0NBUEU6IDI3LFxyXG4gICAgU1BBQ0VCQVI6IDMyLFxyXG4gICAgTEVGVDogMzcsXHJcbiAgICBSSUdIVDogMzksXHJcbiAgICBVUDogMzgsXHJcbiAgICBOVU1CTE9DS19QTFVTIDogMTA3LFxyXG4gICAgUExVUzogMTg3LFxyXG4gICAgRE9XTjogNDAsXHJcbiAgICBOVU1CTE9DS19NSU5VUzogMTA5LFxyXG4gICAgTUlOVVM6IDE4OVxyXG59O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(sc_client)/./node_modules/spotlight.js/src/js/config.js\n");

/***/ }),

/***/ "(sc_client)/./node_modules/spotlight.js/src/js/helper.js":
/*!****************************************************!*\
  !*** ./node_modules/spotlight.js/src/js/helper.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addClass\": () => (/* binding */ addClass),\n/* harmony export */   \"addListener\": () => (/* binding */ addListener),\n/* harmony export */   \"cancelEvent\": () => (/* binding */ cancelEvent),\n/* harmony export */   \"createElement\": () => (/* binding */ createElement),\n/* harmony export */   \"downloadImage\": () => (/* binding */ downloadImage),\n/* harmony export */   \"getByClass\": () => (/* binding */ getByClass),\n/* harmony export */   \"getByTag\": () => (/* binding */ getByTag),\n/* harmony export */   \"hasClass\": () => (/* binding */ hasClass),\n/* harmony export */   \"prepareStyle\": () => (/* binding */ prepareStyle),\n/* harmony export */   \"removeClass\": () => (/* binding */ removeClass),\n/* harmony export */   \"removeListener\": () => (/* binding */ removeListener),\n/* harmony export */   \"setStyle\": () => (/* binding */ setStyle),\n/* harmony export */   \"setText\": () => (/* binding */ setText),\n/* harmony export */   \"toggleAnimation\": () => (/* binding */ toggleAnimation),\n/* harmony export */   \"toggleClass\": () => (/* binding */ toggleClass),\n/* harmony export */   \"toggleDisplay\": () => (/* binding */ toggleDisplay),\n/* harmony export */   \"toggleListener\": () => (/* binding */ toggleListener),\n/* harmony export */   \"toggleVisibility\": () => (/* binding */ toggleVisibility)\n/* harmony export */ });\n/**\r\n * @param node\r\n * @param class_name\r\n */\r\n\r\nfunction addClass(node, class_name){\r\n\r\n    toggleClass(node, class_name, true);\r\n}\r\n\r\n/**\r\n * @param node\r\n * @param class_name\r\n */\r\n\r\nfunction removeClass(node, class_name){\r\n\r\n    toggleClass(node, class_name);\r\n}\r\n\r\n/**\r\n * @param node\r\n * @param class_name\r\n * @param {?=} state\r\n */\r\n\r\nfunction toggleClass(node, class_name, state){\r\n\r\n    node.classList[state ? \"add\" : \"remove\"](class_name);\r\n}\r\n\r\n/**\r\n * @param node\r\n * @param class_name\r\n */\r\n\r\nfunction hasClass(node, class_name){\r\n\r\n    return node.classList.contains(class_name);\r\n}\r\n\r\n/**\r\n * @param {HTMLElement} node\r\n * @param {string} style\r\n * @param {string|number} value\r\n */\r\n\r\nfunction setStyle(node, style, value){\r\n\r\n    value = \"\" + value;\r\n\r\n    if(node[\"_s_\" + style] !== value){\r\n\r\n        node.style.setProperty(style, value);\r\n        node[\"_s_\" + style] = value;\r\n    }\r\n}\r\n\r\nlet tmp = 0;\r\n\r\n/**\r\n * @param node\r\n * @param {Function=} fn\r\n */\r\n\r\nfunction prepareStyle(node, fn){\r\n\r\n    if(fn){\r\n\r\n        setStyle(node, \"transition\", \"none\");\r\n        fn();\r\n    }\r\n\r\n    // force applying styles (quick-fix for closure compiler):\r\n    tmp || (tmp = node.clientTop && 0); // clientWidth\r\n\r\n    fn && setStyle(node, \"transition\", \"\");\r\n}\r\n\r\nfunction setText(node, text){\r\n\r\n    node.firstChild.nodeValue = text;\r\n}\r\n\r\n/**\r\n * @param {string} classname\r\n * @param {Node|Element=} context\r\n * @returns {HTMLCollection}\r\n */\r\n\r\nfunction getByClass(classname, context){\r\n\r\n    return (context || document).getElementsByClassName(classname);\r\n}\r\n\r\n/**\r\n * @param {string} tag\r\n * @param {Node|Element=} context\r\n * @returns {HTMLCollection}\r\n */\r\n\r\nfunction getByTag(tag, context){\r\n\r\n    return (context || document).getElementsByTagName(tag);\r\n}\r\n\r\n/**\r\n * @param {!Window|Document|Element} node\r\n * @param {string} event\r\n * @param {Function} fn\r\n * @param {AddEventListenerOptions|boolean=} mode\r\n */\r\n\r\nfunction addListener(node, event, fn, mode){\r\n\r\n    toggleListener(true, node, event, fn, mode);\r\n}\r\n\r\n/**\r\n * @param {!Window|Document|Element} node\r\n * @param {string} event\r\n * @param {Function} fn\r\n * @param {EventListenerOptions|boolean=} mode\r\n */\r\n\r\nfunction removeListener(node, event, fn, mode){\r\n\r\n    toggleListener(false, node, event, fn, mode);\r\n}\r\n\r\n/**\r\n * @param {boolean|undefined} state\r\n * @param {!Window|Document|Element} node\r\n * @param {string} event\r\n * @param {Function} fn\r\n * @param {EventListenerOptions|boolean=} mode\r\n */\r\n\r\nfunction toggleListener(state, node, event, fn, mode){\r\n\r\n    node[(state ? \"add\" : \"remove\") + \"EventListener\"](event, fn, mode || (mode === false) ? mode : true);\r\n}\r\n\r\n/**\r\n * @param event\r\n * @param {boolean=} prevent\r\n */\r\n\r\nfunction cancelEvent(event, prevent){\r\n\r\n    event.stopPropagation();\r\n    //event.stopImmediatePropagation();\r\n    prevent && event.preventDefault();\r\n}\r\n\r\nfunction downloadImage(body, image){\r\n\r\n    const link = /** @type {HTMLAnchorElement} */ (createElement(\"a\"));\r\n    const src = image.src;\r\n    link.href = src;\r\n    link.download = src.substring(src.lastIndexOf(\"/\") + 1);\r\n    body.appendChild(link);\r\n    link.click();\r\n    body.removeChild(link);\r\n}\r\n\r\n/**\r\n * @param {!string} element\r\n * @return {Element}\r\n */\r\n\r\nfunction createElement(element){\r\n\r\n    return document.createElement(element);\r\n}\r\n\r\n/**\r\n * @param node\r\n * @param {boolean=} state\r\n */\r\n\r\nfunction toggleDisplay(node, state){\r\n\r\n    setStyle(node, \"display\", state ? \"\" : \"none\");\r\n}\r\n\r\n/**\r\n * @param node\r\n * @param {boolean=} state\r\n */\r\n\r\nfunction toggleVisibility(node, state){\r\n\r\n    setStyle(node, \"visibility\", state ? \"\" : \"hidden\");\r\n}\r\n\r\n/**\r\n * @param node\r\n * @param {boolean=} state\r\n */\r\n\r\nfunction toggleAnimation(node, state){\r\n\r\n    setStyle(node, \"transition\", state ? \"\" : \"none\");\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNjX2NsaWVudCkvLi9ub2RlX21vZHVsZXMvc3BvdGxpZ2h0LmpzL3NyYy9qcy9oZWxwZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsSUFBSTtBQUNmO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixXQUFXLFFBQVE7QUFDbkIsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGVBQWU7QUFDMUIsYUFBYTtBQUNiO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxlQUFlO0FBQzFCLGFBQWE7QUFDYjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwQkFBMEI7QUFDckMsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLGtDQUFrQztBQUM3QztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwQkFBMEI7QUFDckMsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLCtCQUErQjtBQUMxQztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVywwQkFBMEI7QUFDckMsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLCtCQUErQjtBQUMxQztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDRCQUE0QixtQkFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3Nwb3RsaWdodC5qcy9zcmMvanMvaGVscGVyLmpzP2UzYWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBwYXJhbSBub2RlXHJcbiAqIEBwYXJhbSBjbGFzc19uYW1lXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZENsYXNzKG5vZGUsIGNsYXNzX25hbWUpe1xyXG5cclxuICAgIHRvZ2dsZUNsYXNzKG5vZGUsIGNsYXNzX25hbWUsIHRydWUpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIG5vZGVcclxuICogQHBhcmFtIGNsYXNzX25hbWVcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3Mobm9kZSwgY2xhc3NfbmFtZSl7XHJcblxyXG4gICAgdG9nZ2xlQ2xhc3Mobm9kZSwgY2xhc3NfbmFtZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0gbm9kZVxyXG4gKiBAcGFyYW0gY2xhc3NfbmFtZVxyXG4gKiBAcGFyYW0gez89fSBzdGF0ZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVDbGFzcyhub2RlLCBjbGFzc19uYW1lLCBzdGF0ZSl7XHJcblxyXG4gICAgbm9kZS5jbGFzc0xpc3Rbc3RhdGUgPyBcImFkZFwiIDogXCJyZW1vdmVcIl0oY2xhc3NfbmFtZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0gbm9kZVxyXG4gKiBAcGFyYW0gY2xhc3NfbmFtZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNDbGFzcyhub2RlLCBjbGFzc19uYW1lKXtcclxuXHJcbiAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NfbmFtZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZVxyXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IHZhbHVlXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0eWxlKG5vZGUsIHN0eWxlLCB2YWx1ZSl7XHJcblxyXG4gICAgdmFsdWUgPSBcIlwiICsgdmFsdWU7XHJcblxyXG4gICAgaWYobm9kZVtcIl9zX1wiICsgc3R5bGVdICE9PSB2YWx1ZSl7XHJcblxyXG4gICAgICAgIG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoc3R5bGUsIHZhbHVlKTtcclxuICAgICAgICBub2RlW1wiX3NfXCIgKyBzdHlsZV0gPSB2YWx1ZTtcclxuICAgIH1cclxufVxyXG5cclxubGV0IHRtcCA9IDA7XHJcblxyXG4vKipcclxuICogQHBhcmFtIG5vZGVcclxuICogQHBhcmFtIHtGdW5jdGlvbj19IGZuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVTdHlsZShub2RlLCBmbil7XHJcblxyXG4gICAgaWYoZm4pe1xyXG5cclxuICAgICAgICBzZXRTdHlsZShub2RlLCBcInRyYW5zaXRpb25cIiwgXCJub25lXCIpO1xyXG4gICAgICAgIGZuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZm9yY2UgYXBwbHlpbmcgc3R5bGVzIChxdWljay1maXggZm9yIGNsb3N1cmUgY29tcGlsZXIpOlxyXG4gICAgdG1wIHx8ICh0bXAgPSBub2RlLmNsaWVudFRvcCAmJiAwKTsgLy8gY2xpZW50V2lkdGhcclxuXHJcbiAgICBmbiAmJiBzZXRTdHlsZShub2RlLCBcInRyYW5zaXRpb25cIiwgXCJcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRUZXh0KG5vZGUsIHRleHQpe1xyXG5cclxuICAgIG5vZGUuZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB0ZXh0O1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzbmFtZVxyXG4gKiBAcGFyYW0ge05vZGV8RWxlbWVudD19IGNvbnRleHRcclxuICogQHJldHVybnMge0hUTUxDb2xsZWN0aW9ufVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCeUNsYXNzKGNsYXNzbmFtZSwgY29udGV4dCl7XHJcblxyXG4gICAgcmV0dXJuIChjb250ZXh0IHx8IGRvY3VtZW50KS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzbmFtZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnXHJcbiAqIEBwYXJhbSB7Tm9kZXxFbGVtZW50PX0gY29udGV4dFxyXG4gKiBAcmV0dXJucyB7SFRNTENvbGxlY3Rpb259XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJ5VGFnKHRhZywgY29udGV4dCl7XHJcblxyXG4gICAgcmV0dXJuIChjb250ZXh0IHx8IGRvY3VtZW50KS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWcpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHshV2luZG93fERvY3VtZW50fEVsZW1lbnR9IG5vZGVcclxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEBwYXJhbSB7QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN8Ym9vbGVhbj19IG1vZGVcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkTGlzdGVuZXIobm9kZSwgZXZlbnQsIGZuLCBtb2RlKXtcclxuXHJcbiAgICB0b2dnbGVMaXN0ZW5lcih0cnVlLCBub2RlLCBldmVudCwgZm4sIG1vZGUpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHshV2luZG93fERvY3VtZW50fEVsZW1lbnR9IG5vZGVcclxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEBwYXJhbSB7RXZlbnRMaXN0ZW5lck9wdGlvbnN8Ym9vbGVhbj19IG1vZGVcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIobm9kZSwgZXZlbnQsIGZuLCBtb2RlKXtcclxuXHJcbiAgICB0b2dnbGVMaXN0ZW5lcihmYWxzZSwgbm9kZSwgZXZlbnQsIGZuLCBtb2RlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IHN0YXRlXHJcbiAqIEBwYXJhbSB7IVdpbmRvd3xEb2N1bWVudHxFbGVtZW50fSBub2RlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJPcHRpb25zfGJvb2xlYW49fSBtb2RlXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUxpc3RlbmVyKHN0YXRlLCBub2RlLCBldmVudCwgZm4sIG1vZGUpe1xyXG5cclxuICAgIG5vZGVbKHN0YXRlID8gXCJhZGRcIiA6IFwicmVtb3ZlXCIpICsgXCJFdmVudExpc3RlbmVyXCJdKGV2ZW50LCBmbiwgbW9kZSB8fCAobW9kZSA9PT0gZmFsc2UpID8gbW9kZSA6IHRydWUpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIGV2ZW50XHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHByZXZlbnRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FuY2VsRXZlbnQoZXZlbnQsIHByZXZlbnQpe1xyXG5cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgLy9ldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuICAgIHByZXZlbnQgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkSW1hZ2UoYm9keSwgaW1hZ2Upe1xyXG5cclxuICAgIGNvbnN0IGxpbmsgPSAvKiogQHR5cGUge0hUTUxBbmNob3JFbGVtZW50fSAqLyAoY3JlYXRlRWxlbWVudChcImFcIikpO1xyXG4gICAgY29uc3Qgc3JjID0gaW1hZ2Uuc3JjO1xyXG4gICAgbGluay5ocmVmID0gc3JjO1xyXG4gICAgbGluay5kb3dubG9hZCA9IHNyYy5zdWJzdHJpbmcoc3JjLmxhc3RJbmRleE9mKFwiL1wiKSArIDEpO1xyXG4gICAgYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcclxuICAgIGxpbmsuY2xpY2soKTtcclxuICAgIGJvZHkucmVtb3ZlQ2hpbGQobGluayk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0geyFzdHJpbmd9IGVsZW1lbnRcclxuICogQHJldHVybiB7RWxlbWVudH1cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudChlbGVtZW50KXtcclxuXHJcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSBub2RlXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHN0YXRlXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZURpc3BsYXkobm9kZSwgc3RhdGUpe1xyXG5cclxuICAgIHNldFN0eWxlKG5vZGUsIFwiZGlzcGxheVwiLCBzdGF0ZSA/IFwiXCIgOiBcIm5vbmVcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0gbm9kZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBzdGF0ZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVWaXNpYmlsaXR5KG5vZGUsIHN0YXRlKXtcclxuXHJcbiAgICBzZXRTdHlsZShub2RlLCBcInZpc2liaWxpdHlcIiwgc3RhdGUgPyBcIlwiIDogXCJoaWRkZW5cIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0gbm9kZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBzdGF0ZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVBbmltYXRpb24obm9kZSwgc3RhdGUpe1xyXG5cclxuICAgIHNldFN0eWxlKG5vZGUsIFwidHJhbnNpdGlvblwiLCBzdGF0ZSA/IFwiXCIgOiBcIm5vbmVcIik7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(sc_client)/./node_modules/spotlight.js/src/js/helper.js\n");

/***/ }),

/***/ "(sc_client)/./node_modules/spotlight.js/src/js/parser.js":
/*!****************************************************!*\
  !*** ./node_modules/spotlight.js/src/js/parser.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper.js */ \"(sc_client)/./node_modules/spotlight.js/src/js/helper.js\");\n\r\n\r\nconst video_support = {};\r\nconst tpl_video = /** @type {HTMLVideoElement} */ ((0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"video\"));\r\n\r\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(anchor, size, options, media){\r\n\r\n    let src, diff;\r\n\r\n    if(media !== \"node\"){\r\n\r\n        const keys = Object.keys(/** @type {!Object} */ (options));\r\n\r\n        for(let x = 0, key; x < keys.length; x++){\r\n\r\n            key = keys[x];\r\n\r\n            if((key.length > 3) && (key.indexOf(\"src\") === 0)){\r\n\r\n                if(media === \"video\"){\r\n\r\n                    const cache = video_support[key];\r\n\r\n                    if(cache){\r\n\r\n                        if(cache > 0){\r\n\r\n                            src = options[key];\r\n                            break;\r\n                        }\r\n                    }\r\n                    else if(tpl_video.canPlayType(\"video/\" + key.substring(3).replace(\"-\", \"\").toLowerCase())){\r\n\r\n                        video_support[key] = 1;\r\n                        src = options[key];\r\n                        break;\r\n                    }\r\n                    else{\r\n\r\n                        video_support[key] = -1;\r\n                    }\r\n                }\r\n                else{\r\n\r\n                    // Image Media:\r\n\r\n                    const res = parseInt(key.substring(4), 10);\r\n\r\n                    if(res){\r\n\r\n                        const abs = Math.abs(size - res);\r\n\r\n                        if(!diff || (abs < diff)){\r\n\r\n                            diff = abs;\r\n                            src = options[key];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return src || options[\"src\"] || options[\"href\"] || anchor[\"src\"] || anchor[\"href\"];\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNjX2NsaWVudCkvLi9ub2RlX21vZHVsZXMvc3BvdGxpZ2h0LmpzL3NyYy9qcy9wYXJzZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7QUFDNUM7QUFDQTtBQUNBLDZCQUE2QixrQkFBa0IsSUFBSSx5REFBYTtBQUNoRTtBQUNBLDZCQUFlLG9DQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktcHJvamVjdC8uL25vZGVfbW9kdWxlcy9zcG90bGlnaHQuanMvc3JjL2pzL3BhcnNlci5qcz83OTYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tIFwiLi9oZWxwZXIuanNcIjtcclxuXHJcbmNvbnN0IHZpZGVvX3N1cHBvcnQgPSB7fTtcclxuY29uc3QgdHBsX3ZpZGVvID0gLyoqIEB0eXBlIHtIVE1MVmlkZW9FbGVtZW50fSAqLyAoY3JlYXRlRWxlbWVudChcInZpZGVvXCIpKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGFuY2hvciwgc2l6ZSwgb3B0aW9ucywgbWVkaWEpe1xyXG5cclxuICAgIGxldCBzcmMsIGRpZmY7XHJcblxyXG4gICAgaWYobWVkaWEgIT09IFwibm9kZVwiKXtcclxuXHJcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKG9wdGlvbnMpKTtcclxuXHJcbiAgICAgICAgZm9yKGxldCB4ID0gMCwga2V5OyB4IDwga2V5cy5sZW5ndGg7IHgrKyl7XHJcblxyXG4gICAgICAgICAgICBrZXkgPSBrZXlzW3hdO1xyXG5cclxuICAgICAgICAgICAgaWYoKGtleS5sZW5ndGggPiAzKSAmJiAoa2V5LmluZGV4T2YoXCJzcmNcIikgPT09IDApKXtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihtZWRpYSA9PT0gXCJ2aWRlb1wiKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGUgPSB2aWRlb19zdXBwb3J0W2tleV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhY2hlKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhY2hlID4gMCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZih0cGxfdmlkZW8uY2FuUGxheVR5cGUoXCJ2aWRlby9cIiArIGtleS5zdWJzdHJpbmcoMykucmVwbGFjZShcIi1cIiwgXCJcIikudG9Mb3dlckNhc2UoKSkpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9fc3VwcG9ydFtrZXldID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvX3N1cHBvcnRba2V5XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEltYWdlIE1lZGlhOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBwYXJzZUludChrZXkuc3Vic3RyaW5nKDQpLCAxMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlcyl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhYnMgPSBNYXRoLmFicyhzaXplIC0gcmVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFkaWZmIHx8IChhYnMgPCBkaWZmKSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IGFicztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IG9wdGlvbnNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3JjIHx8IG9wdGlvbnNbXCJzcmNcIl0gfHwgb3B0aW9uc1tcImhyZWZcIl0gfHwgYW5jaG9yW1wic3JjXCJdIHx8IGFuY2hvcltcImhyZWZcIl07XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(sc_client)/./node_modules/spotlight.js/src/js/parser.js\n");

/***/ }),

/***/ "(sc_client)/./node_modules/spotlight.js/src/js/spotlight.js":
/*!*******************************************************!*\
  !*** ./node_modules/spotlight.js/src/js/spotlight.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addControl\": () => (/* binding */ addControl),\n/* harmony export */   \"autofit\": () => (/* binding */ autofit),\n/* harmony export */   \"close\": () => (/* binding */ close),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"download\": () => (/* binding */ download),\n/* harmony export */   \"fullscreen\": () => (/* binding */ fullscreen),\n/* harmony export */   \"goto\": () => (/* binding */ goto),\n/* harmony export */   \"init\": () => (/* binding */ init),\n/* harmony export */   \"menu\": () => (/* binding */ menu),\n/* harmony export */   \"next\": () => (/* binding */ next),\n/* harmony export */   \"play\": () => (/* binding */ play),\n/* harmony export */   \"prev\": () => (/* binding */ prev),\n/* harmony export */   \"removeControl\": () => (/* binding */ removeControl),\n/* harmony export */   \"show\": () => (/* binding */ show),\n/* harmony export */   \"theme\": () => (/* binding */ theme),\n/* harmony export */   \"zoom\": () => (/* binding */ zoom)\n/* harmony export */ });\n/* harmony import */ var _helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper.js */ \"(sc_client)/./node_modules/spotlight.js/src/js/helper.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config.js */ \"(sc_client)/./node_modules/spotlight.js/src/js/config.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template.js */ \"(sc_client)/./node_modules/spotlight.js/src/js/template.js\");\n/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parser.js */ \"(sc_client)/./node_modules/spotlight.js/src/js/parser.js\");\n/**\r\n * Spotlight.js\r\n * Copyright 2019-2021 Nextapps GmbH\r\n * Author: Thomas Wilkerling\r\n * Licence: Apache-2.0\r\n * https://github.com/nextapps-de/spotlight\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst controls_dom = {};\r\nconst connection = navigator[\"connection\"];\r\nconst dpr = window[\"devicePixelRatio\"] || 1;\r\n\r\nlet x;\r\nlet y;\r\nlet startX;\r\nlet startY;\r\nlet viewport_w;\r\nlet viewport_h;\r\nlet media_w;\r\nlet media_h;\r\nlet scale;\r\n\r\nlet is_down;\r\nlet dragged;\r\nlet slidable;\r\nlet toggle_autofit;\r\nlet toggle_theme;\r\n\r\nlet current_slide;\r\nlet slide_count;\r\nlet anchors;\r\nlet options;\r\nlet options_media;\r\nlet options_group;\r\nlet options_infinite;\r\nlet options_progress;\r\nlet options_onshow;\r\nlet options_onchange;\r\nlet options_onclose;\r\nlet options_fit;\r\nlet options_autohide;\r\nlet options_autoslide;\r\nlet options_theme;\r\nlet options_preload;\r\nlet options_href;\r\nlet options_click;\r\nlet options_class;\r\nlet delay;\r\n\r\nlet animation_scale;\r\nlet animation_fade;\r\nlet animation_slide;\r\nlet animation_custom;\r\n\r\nlet body;\r\nlet panel;\r\nlet panes;\r\nlet media;\r\nlet media_next = (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"img\");\r\nlet slider;\r\nlet header;\r\nlet footer;\r\nlet title;\r\nlet description;\r\nlet button;\r\nlet page_prev;\r\nlet page_next;\r\nlet maximize;\r\nlet page;\r\nlet player;\r\nlet progress;\r\nlet spinner;\r\n\r\nlet gallery;\r\nlet gallery_next;\r\nlet playing;\r\nlet hide;\r\nlet hide_cooldown;\r\n\r\nlet prefix_request, prefix_exit;\r\n\r\n(0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(document, \"click\", dispatch);\r\n\r\nfunction init(){\r\n\r\n    if(body){\r\n\r\n        return;\r\n    }\r\n\r\n    //console.log(\"init\");\r\n\r\n    body = document.body;\r\n    slider = getOneByClass(\"scene\");\r\n    header = getOneByClass(\"header\");\r\n    footer = getOneByClass(\"footer\");\r\n    title = getOneByClass(\"title\");\r\n    description = getOneByClass(\"description\");\r\n    button = getOneByClass(\"button\");\r\n    page_prev = getOneByClass(\"prev\");\r\n    page_next = getOneByClass(\"next\");\r\n    page = getOneByClass(\"page\");\r\n    progress = getOneByClass(\"progress\");\r\n    spinner = getOneByClass(\"spinner\");\r\n    panes = [getOneByClass(\"pane\")];\r\n\r\n    addControl(\"close\", close);\r\n\r\n    body[prefix_request = \"requestFullscreen\"] ||\r\n    body[prefix_request = \"msRequestFullscreen\"] ||\r\n    body[prefix_request = \"webkitRequestFullscreen\"] ||\r\n    body[prefix_request = \"mozRequestFullscreen\"] ||\r\n    (prefix_request = \"\");\r\n\r\n    if(prefix_request){\r\n\r\n        prefix_exit = (\r\n\r\n            prefix_request.replace(\"request\", \"exit\")\r\n                          .replace(\"mozRequest\", \"mozCancel\")\r\n                          .replace(\"Request\", \"Exit\")\r\n        );\r\n\r\n        maximize = addControl(\"fullscreen\", fullscreen);\r\n    }\r\n    else{\r\n\r\n        _config_js__WEBPACK_IMPORTED_MODULE_1__.controls.pop(); // => \"fullscreen\"\r\n    }\r\n\r\n    addControl(\"autofit\", autofit);\r\n    addControl(\"zoom-in\", zoom_in);\r\n    addControl(\"zoom-out\", zoom_out);\r\n    addControl(\"theme\", theme);\r\n    player = addControl(\"play\", play);\r\n    addControl(\"download\", download);\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(page_prev, \"click\", prev);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(page_next, \"click\", next);\r\n\r\n    /*\r\n     * binding the tracking listeners to the \"widget\" will prevent all click listeners to be fired\r\n     * binding the tracking listeners to the \"spl-scene\" breaks on iOS (seems to be a bug in their visual/touchable overflow calculation)\r\n     * binding the tracking listeners to a wrapper \"track\" will fix both\r\n     * the spinner element could not be used, it is below the widget to allow user actions (pointers)\r\n     */\r\n\r\n    const track = getOneByClass(\"track\");\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(track, \"mousedown\", start);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(track, \"mousemove\", move);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(track, \"mouseleave\", end);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(track, \"mouseup\", end);\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(track, \"touchstart\", start, { \"passive\": false });\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(track, \"touchmove\", move, { \"passive\": true });\r\n    //addListener(track, \"touchcancel\", end);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(track, \"touchend\", end);\r\n    // click listener for the wrapper \"track\" is already covered\r\n    //addListener(track, \"click\", menu);\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(button, \"click\", function(){\r\n\r\n        if(options_click){\r\n\r\n            options_click(current_slide, options);\r\n        }\r\n        else if(options_href){\r\n\r\n            location.href = options_href;\r\n        }\r\n    });\r\n\r\n    /**\r\n     * @param {string} classname\r\n     * @returns {HTMLElement}\r\n     */\r\n\r\n    function getOneByClass(classname){\r\n\r\n        //console.log(\"getOneByClass\", class_name);\r\n\r\n        return controls_dom[classname] = (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.getByClass)(\"spl-\" + classname, _template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])[0];\r\n    }\r\n}\r\n\r\nfunction addControl(classname, fn){\r\n\r\n    //console.log(\"addControl\", classname, fn);\r\n\r\n    const div = (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\");\r\n\r\n    div.className = \"spl-\" + classname;\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addListener)(div, \"click\", fn);\r\n    header.appendChild(div);\r\n\r\n    return controls_dom[classname] = div;\r\n}\r\n\r\nfunction removeControl(classname){\r\n\r\n    //console.log(\"dispatch\", classname);\r\n\r\n    const div = controls_dom[classname];\r\n\r\n    if(div){\r\n\r\n        header.removeChild(div);\r\n        controls_dom[classname] = null;\r\n    }\r\n}\r\n\r\nfunction dispatch(event){\r\n\r\n    //console.log(\"dispatch\");\r\n\r\n    const target = event.target.closest(\".spotlight\");\r\n\r\n    if(target){\r\n\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.cancelEvent)(event, true);\r\n\r\n        const group = target.closest(\".spotlight-group\");\r\n\r\n        anchors = (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.getByClass)(\"spotlight\", group);\r\n\r\n        // determine current selected index\r\n\r\n        for(let i = 0; i < anchors.length; i++){\r\n\r\n            if(anchors[i] === target){\r\n\r\n                options_group = group && group.dataset;\r\n                init_gallery(i + 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @param {!HTMLCollection|Array} gallery\r\n * @param {Object=} group\r\n * @param {number=} index\r\n */\r\n\r\nfunction show(gallery, group, index){\r\n\r\n    //console.log(\"show\", gallery, config);\r\n\r\n    anchors = gallery;\r\n\r\n    if(group){\r\n\r\n        options_group = group;\r\n        options_onshow = group[\"onshow\"];\r\n        options_onchange = group[\"onchange\"];\r\n        options_onclose = group[\"onclose\"];\r\n        index = index || group[\"index\"];\r\n    }\r\n\r\n    init_gallery(index);\r\n}\r\n\r\nfunction init_gallery(index){\r\n\r\n    //console.log(\"init_gallery\", index);\r\n\r\n    slide_count = anchors.length;\r\n\r\n    if(slide_count){\r\n\r\n        body || init();\r\n        options_onshow && options_onshow(index);\r\n\r\n        const pane = panes[0];\r\n        const parent = pane.parentNode;\r\n\r\n        for(let i = panes.length; i < slide_count; i++){\r\n\r\n            const clone = pane.cloneNode(false);\r\n\r\n            (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(clone, \"left\", (i * 100) + \"%\");\r\n            parent.appendChild(clone);\r\n            panes[i] = clone;\r\n        }\r\n\r\n        if(!panel){\r\n\r\n            body.appendChild(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n            update_widget_viewport();\r\n            //resize_listener();\r\n        }\r\n\r\n        current_slide = index || 1;\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleAnimation)(slider);\r\n        setup_page(true);\r\n        prefix_request && detect_fullscreen();\r\n        show_gallery();\r\n    }\r\n}\r\n\r\n/**\r\n * @param {string} key\r\n * @param {boolean|string|number=} is_default\r\n */\r\n\r\nfunction parse_option(key, is_default){\r\n\r\n    //console.log(\"parse_option\", key, is_default);\r\n\r\n    let val = options[key];\r\n\r\n    if(typeof val !== \"undefined\"){\r\n\r\n        val = \"\" + val;\r\n\r\n        return (val !== \"false\") && (val || is_default);\r\n    }\r\n\r\n    return is_default;\r\n}\r\n\r\n/**\r\n * @param {Object} anchor\r\n */\r\n\r\nfunction apply_options(anchor){\r\n\r\n    //console.log(\"apply_options\", anchor);\r\n\r\n    options = {};\r\n    options_group && Object.assign(options, options_group);\r\n    Object.assign(options, anchor.dataset || anchor);\r\n\r\n    // TODO: theme is icon and option field!\r\n\r\n    options_media = options[\"media\"];\r\n    options_click = options[\"onclick\"];\r\n    options_theme = options[\"theme\"];\r\n    options_class = options[\"class\"];\r\n    options_autohide = parse_option(\"autohide\", true);\r\n    options_infinite = parse_option(\"infinite\");\r\n    options_progress = parse_option(\"progress\", true);\r\n    options_autoslide = parse_option(\"autoslide\");\r\n    options_preload = parse_option(\"preload\", true);\r\n    options_href = options[\"buttonHref\"];\r\n    delay = (options_autoslide && parseFloat(options_autoslide)) || 7;\r\n    toggle_theme || (options_theme && theme(options_theme));\r\n    options_class && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], options_class);\r\n    options_class && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.prepareStyle)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\r\n\r\n    const control = options[\"control\"];\r\n\r\n    // determine controls\r\n\r\n    if(control){\r\n\r\n        const whitelist = (\r\n\r\n            typeof control === \"string\" ?\r\n\r\n                control.split(\",\")\r\n            :\r\n                control\r\n        );\r\n\r\n        // prepare to false when using whitelist\r\n\r\n        for(let i = 0; i < _config_js__WEBPACK_IMPORTED_MODULE_1__.controls.length; i++){\r\n\r\n            options[_config_js__WEBPACK_IMPORTED_MODULE_1__.controls[i]] = false;\r\n        }\r\n\r\n        // apply whitelist\r\n\r\n        for(let i = 0; i < whitelist.length; i++){\r\n\r\n            const option = whitelist[i].trim();\r\n\r\n            // handle shorthand \"zoom\"\r\n\r\n            if(option === \"zoom\"){\r\n\r\n                options[\"zoom-in\"] =\r\n                options[\"zoom-out\"] = true;\r\n            }\r\n            else{\r\n\r\n                options[option] = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    // determine animations\r\n\r\n    const animation = options[\"animation\"];\r\n\r\n    animation_scale = animation_fade = animation_slide = !animation;\r\n    animation_custom = false;\r\n\r\n    if(animation){\r\n\r\n        const whitelist = (\r\n\r\n            typeof animation === \"string\" ?\r\n\r\n                animation.split(\",\")\r\n            :\r\n                animation\r\n        );\r\n\r\n        // apply whitelist\r\n\r\n        for(let i = 0; i < whitelist.length; i++){\r\n\r\n            const option = whitelist[i].trim();\r\n\r\n            if(option === \"scale\"){\r\n\r\n                animation_scale = true;\r\n            }\r\n            else if(option === \"fade\"){\r\n\r\n                animation_fade = true;\r\n            }\r\n            else if(option === \"slide\"){\r\n\r\n                animation_slide = true;\r\n            }\r\n            else if(option){\r\n\r\n                animation_custom = option;\r\n            }\r\n        }\r\n    }\r\n\r\n    options_fit = options[\"fit\"];\r\n}\r\n\r\n/**\r\n * @param {boolean=} prepare\r\n */\r\n\r\nfunction prepare_animation(prepare){\r\n\r\n    //console.log(\"prepare_animation\", prepare);\r\n\r\n    if(prepare){\r\n\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.prepareStyle)(media, prepare_animation);\r\n    }\r\n    else{\r\n\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleAnimation)(slider, animation_slide);\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(media, \"opacity\", animation_fade ? 0 : 1);\r\n        update_scroll(animation_scale && 0.8);\r\n        animation_custom && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(media, animation_custom);\r\n    }\r\n}\r\n\r\nfunction init_slide(index){\r\n\r\n    //console.log(\"init_slide\", index);\r\n\r\n    panel = panes[index - 1];\r\n    media = /** @type {Image|HTMLVideoElement|HTMLElement} */ (panel.firstChild);\r\n    current_slide = index;\r\n\r\n    if(media){\r\n\r\n        disable_autoresizer();\r\n\r\n        if(options_fit){\r\n\r\n            (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(media, options_fit);\r\n        }\r\n\r\n        prepare_animation(true);\r\n\r\n        animation_custom && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(media, animation_custom);\r\n        animation_fade && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(media, \"opacity\", 1);\r\n        animation_scale && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(media, \"transform\", \"\");\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(media, \"visibility\", \"visible\");\r\n\r\n        gallery_next && (media_next.src = gallery_next);\r\n        options_autoslide && animate_bar(playing);\r\n    }\r\n    else{\r\n\r\n        const type = gallery.media;\r\n        const options_spinner = parse_option(\"spinner\", true);\r\n\r\n        if(type === \"video\"){\r\n\r\n            toggle_spinner(options_spinner, true);\r\n            media = /** @type {HTMLVideoElement} */ ((0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"video\"));\r\n\r\n            media.onloadedmetadata = function(){\r\n\r\n                if(media === this){\r\n\r\n                    media.onerror = null;\r\n                    media.width = media.videoWidth;\r\n                    media.height = media.videoHeight;\r\n                    update_media_viewport();\r\n                    toggle_spinner(options_spinner);\r\n                    init_slide(index);\r\n                }\r\n            };\r\n\r\n            media.poster = options[\"poster\"];\r\n            media.preload = options_preload ? \"auto\" : \"metadata\";\r\n            media.controls = parse_option(\"controls\", true);\r\n            media.autoplay = options[\"autoplay\"];\r\n            media.playsinline = parse_option(\"inline\");\r\n            media.muted = parse_option(\"muted\");\r\n            media.src = gallery.src; //files[i].src;\r\n\r\n            // const source = createElement(\"source\");\r\n            // source.type = \"video/\" + files[i].type;\r\n            // source.src = files[i].src;\r\n            // media.appendChild(source);\r\n\r\n            panel.appendChild(media);\r\n        }\r\n        else if(type === \"node\"){\r\n\r\n            media = gallery.src;\r\n\r\n            if(typeof media === \"string\"){\r\n\r\n                media = document.querySelector(media);\r\n            }\r\n\r\n            if(media){\r\n\r\n                media._root || (media._root = media.parentNode);\r\n                update_media_viewport();\r\n\r\n                panel.appendChild(media);\r\n                init_slide(index);\r\n            }\r\n\r\n            return;\r\n        }\r\n        else{\r\n\r\n            toggle_spinner(options_spinner, true);\r\n            media = /** @type {HTMLVideoElement|Image} */ ((0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"img\"));\r\n\r\n            media.onload = function(){\r\n\r\n                if(media === this){\r\n\r\n                    media.onerror = null;\r\n                    toggle_spinner(options_spinner);\r\n                    init_slide(index);\r\n                    update_media_viewport();\r\n                }\r\n            };\r\n\r\n            //media.crossOrigin = \"anonymous\";\r\n            media.src = gallery.src;\r\n            panel.appendChild(media);\r\n        }\r\n\r\n        if(media){\r\n\r\n            options_spinner || (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(media, \"visibility\", \"visible\");\r\n\r\n            media.onerror = function(){\r\n\r\n                if(media === this){\r\n\r\n                    checkout(media);\r\n                    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(spinner, \"error\");\r\n                    toggle_spinner(options_spinner);\r\n                }\r\n            };\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @param {boolean=} options_spinner\r\n * @param {boolean=} is_on\r\n */\r\n\r\nfunction toggle_spinner(options_spinner, is_on){\r\n\r\n    //console.log(\"toggle_spinner\", options_spinner, is_on);\r\n\r\n    options_spinner && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(spinner, \"spin\", is_on);\r\n}\r\n\r\nfunction has_fullscreen(){\r\n\r\n    //console.log(\"has_fullscreen\");\r\n\r\n    return (\r\n\r\n        document[\"fullscreen\"] ||\r\n        document[\"fullscreenElement\"] ||\r\n        document[\"webkitFullscreenElement\"] ||\r\n        document[\"mozFullScreenElement\"]\r\n    );\r\n}\r\n\r\nfunction resize_listener(){\r\n\r\n    //console.log(\"resize_listener\");\r\n\r\n    update_widget_viewport()\r\n    media && update_media_viewport();\r\n\r\n    if(prefix_request){\r\n\r\n        const is_fullscreen = has_fullscreen();\r\n\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(maximize, \"on\", is_fullscreen)\r\n\r\n        // handle when user toggles the fullscreen state manually\r\n        // entering the fullscreen state manually needs to be hide the fullscreen icon, because\r\n        // the exit fullscreen handler will not work due to a browser restriction\r\n\r\n        is_fullscreen || detect_fullscreen();\r\n    }\r\n\r\n    //update_scroll();\r\n}\r\n\r\nfunction detect_fullscreen(){\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleDisplay)(maximize, (screen.availHeight - window.innerHeight) > 0);\r\n}\r\n\r\nfunction update_widget_viewport(){\r\n\r\n    //console.log(\"update_widget_viewport\");\r\n\r\n    viewport_w = _template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].clientWidth;\r\n    viewport_h = _template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].clientHeight;\r\n}\r\n\r\nfunction update_media_viewport(){\r\n\r\n    //console.log(\"update_media_viewport\");\r\n\r\n    media_w = media.clientWidth;\r\n    media_h = media.clientHeight;\r\n}\r\n\r\n// function update_media_dimension(){\r\n//\r\n//     media_w = media.width;\r\n//     media_h = media.height;\r\n// }\r\n\r\n/**\r\n * @param {number=} force_scale\r\n */\r\n\r\nfunction update_scroll(force_scale){\r\n\r\n    //console.log(\"update_scroll\", force_scale);\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(media, \"transform\", \"translate(-50%, -50%) scale(\" + (force_scale || scale) + \")\");\r\n}\r\n\r\n/**\r\n * @param {number=} x\r\n * @param {number=} y\r\n */\r\n\r\nfunction update_panel(x, y){\r\n\r\n    ////console.log(\"update_panel\", x, y);\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(panel, \"transform\", x || y ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"\");\r\n}\r\n\r\n/**\r\n * @param {number} index\r\n * @param {boolean=} prepare\r\n * @param {number=} offset\r\n */\r\n\r\nfunction update_slider(index, prepare, offset){\r\n\r\n    //console.log(\"update_slider\", prepare, offset);\r\n\r\n    if(prepare){\r\n\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.prepareStyle)(slider, function(){\r\n\r\n            update_slider(index, false, offset);\r\n        });\r\n    }\r\n    else{\r\n\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(slider, \"transform\", \"translateX(\" + (-index * 100 + (offset || 0)) + \"%)\");\r\n    }\r\n}\r\n\r\n/**\r\n * @param {boolean=} install\r\n */\r\n\r\nfunction toggle_listener(install){\r\n\r\n    //console.log(\"toggle_listener\", install);\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleListener)(install, window, \"keydown\", key_listener);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleListener)(install, window, \"wheel\", wheel_listener);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleListener)(install, window, \"resize\", resize_listener);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleListener)(install, window, \"popstate\", history_listener);\r\n}\r\n\r\nfunction history_listener(event) {\r\n\r\n    //console.log(\"history_listener\");\r\n\r\n    if(panel && /*event.state &&*/ event.state[\"spl\"]) {\r\n\r\n        close(true);\r\n    }\r\n}\r\n\r\nfunction key_listener(event){\r\n\r\n    //console.log(\"key_listener\");\r\n\r\n    if(panel){\r\n\r\n        const zoom_enabled = options[\"zoom-in\"] !== false;\r\n\r\n        switch(event.keyCode){\r\n\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.BACKSPACE:\r\n                zoom_enabled && autofit();\r\n                break;\r\n\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.ESCAPE:\r\n                close();\r\n                break;\r\n\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.SPACEBAR:\r\n                options_autoslide && play();\r\n                break;\r\n\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.LEFT:\r\n                prev();\r\n                break;\r\n\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.RIGHT:\r\n                next();\r\n                break;\r\n\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.UP:\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.NUMBLOCK_PLUS:\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.PLUS:\r\n                zoom_enabled && zoom_in();\r\n                break;\r\n\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.DOWN:\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.NUMBLOCK_MINUS:\r\n            case _config_js__WEBPACK_IMPORTED_MODULE_1__.keycodes.MINUS:\r\n                zoom_enabled && zoom_out();\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nfunction wheel_listener(event){\r\n\r\n    //console.log(\"wheel_listener\");\r\n\r\n    if(panel && (options[\"zoom-in\"] !== false)){\r\n\r\n        let delta = event[\"deltaY\"];\r\n        delta = (delta < 0 ? 1 : delta ? -1 : 0) * 0.5;\r\n\r\n        if(delta < 0){\r\n\r\n            zoom_out();\r\n        }\r\n        else{\r\n\r\n            zoom_in();\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @param {Event|boolean=} init\r\n * @param {boolean=} _skip_animation\r\n */\r\n\r\nfunction play(init, _skip_animation){\r\n\r\n    //console.log(\"play\", init);\r\n\r\n    const state = (typeof init === \"boolean\" ? init : !playing);\r\n\r\n    if(state === !playing){\r\n\r\n        playing = playing ? clearTimeout(playing) : 1;\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(player, \"on\", playing);\r\n        _skip_animation || animate_bar(playing);\r\n    }\r\n}\r\n\r\n/**\r\n * @param {?=} start\r\n */\r\n\r\nfunction animate_bar(start){\r\n\r\n    //console.log(\"animate_bar\", start);\r\n\r\n    if(options_progress){\r\n\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.prepareStyle)(progress, function(){\r\n\r\n            (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(progress, \"transition-duration\", \"\");\r\n            (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(progress, \"transform\", \"\");\r\n        });\r\n\r\n        if(start){\r\n\r\n            (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(progress, \"transition-duration\", delay + \"s\");\r\n            (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(progress, \"transform\", \"translateX(0)\");\r\n        }\r\n    }\r\n\r\n    if(start){\r\n\r\n        playing = setTimeout(next, delay * 1000);\r\n    }\r\n}\r\n\r\nfunction autohide(){\r\n\r\n    //console.log(\"autohide\");\r\n\r\n    if(options_autohide) {\r\n\r\n        hide_cooldown = Date.now() + 2950;\r\n\r\n        if(!hide){\r\n\r\n            (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \"menu\");\r\n            schedule(3000);\r\n        }\r\n    }\r\n}\r\n\r\nfunction schedule(cooldown){\r\n\r\n    //console.log(\"schedule\", cooldown);\r\n\r\n    hide = setTimeout(function(){\r\n\r\n        const now = Date.now();\r\n\r\n        if(now >= hide_cooldown){\r\n\r\n            (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \"menu\");\r\n            hide = 0;\r\n        }\r\n        else{\r\n\r\n            schedule(hide_cooldown - now);\r\n        }\r\n\r\n    }, cooldown);\r\n}\r\n\r\n/**\r\n * @param {boolean=} state\r\n */\r\n\r\nfunction menu(state){\r\n\r\n    //console.log(\"menu\");\r\n\r\n    if(typeof state === \"boolean\"){\r\n\r\n        hide = state ? hide : 0;\r\n    }\r\n\r\n    if(hide){\r\n\r\n        hide = clearTimeout(hide);\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \"menu\");\r\n    }\r\n    else{\r\n\r\n        autohide();\r\n    }\r\n}\r\n\r\nfunction start(e){\r\n\r\n    //console.log(\"start\");\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.cancelEvent)(e, true);\r\n\r\n    is_down = true;\r\n    dragged = false;\r\n\r\n    let touches = e.touches;\r\n\r\n    if(touches && (touches = touches[0])){\r\n\r\n        e = touches;\r\n    }\r\n\r\n    slidable = /* !toggle_autofit && */ (media_w * scale) <= viewport_w;\r\n    startX = e.pageX;\r\n    startY = e.pageY;\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleAnimation)(panel);\r\n}\r\n\r\nfunction end(e){\r\n\r\n    //console.log(\"end\");\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.cancelEvent)(e);\r\n\r\n    if(is_down){\r\n\r\n        if(!dragged){\r\n\r\n            menu();\r\n        }\r\n        else{\r\n\r\n            if(slidable && dragged){\r\n\r\n                const has_next = (x < -(viewport_w / 7)) && ((current_slide < slide_count) || options_infinite);\r\n                const has_prev = has_next || (x > (viewport_w / 7)) && ((current_slide > 1) || options_infinite);\r\n\r\n                if(has_next || has_prev){\r\n\r\n                    update_slider(current_slide - 1, /* prepare? */ true, x / viewport_w * 100);\r\n\r\n                    (has_next && next()) ||\r\n                    (has_prev && prev());\r\n                }\r\n\r\n                x = 0;\r\n\r\n                update_panel();\r\n            }\r\n\r\n            (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleAnimation)(panel, true);\r\n        }\r\n\r\n        is_down = false;\r\n    }\r\n}\r\n\r\nfunction move(e){\r\n\r\n    ////console.log(\"move\");\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.cancelEvent)(e);\r\n\r\n    if(is_down){\r\n\r\n        let touches = e.touches;\r\n\r\n        if(touches && (touches = touches[0])){\r\n\r\n            e = touches;\r\n        }\r\n\r\n        // handle x-axis in slide mode and in drag mode\r\n\r\n        let diff = (media_w * scale - viewport_w) / 2;\r\n        x -= startX - (startX = e.pageX);\r\n\r\n        if(!slidable){\r\n\r\n            if(x > diff){\r\n\r\n                x = diff;\r\n            }\r\n            else if(x < -diff){\r\n\r\n                x = -diff\r\n            }\r\n\r\n            // handle y-axis in drag mode\r\n\r\n            if((media_h * scale) > viewport_h){\r\n\r\n                diff = (media_h * scale - viewport_h) / 2;\r\n                y -= startY - (startY = e.pageY);\r\n\r\n                if(y > diff){\r\n\r\n                    y = diff;\r\n                }\r\n                else if(y < -diff){\r\n\r\n                    y = -diff;\r\n                }\r\n            }\r\n        }\r\n\r\n        dragged = true;\r\n\r\n        update_panel(x, y);\r\n    }\r\n    else{\r\n\r\n        autohide();\r\n    }\r\n}\r\n\r\n/**\r\n * @param {Event|boolean=} init\r\n */\r\n\r\nfunction fullscreen(init){\r\n\r\n    //console.log(\"fullscreen\", init);\r\n\r\n    const is_fullscreen = has_fullscreen();\r\n\r\n    if((typeof init !== \"boolean\") || (init !== !!is_fullscreen)){\r\n\r\n        if(is_fullscreen){\r\n\r\n            document[prefix_exit]();\r\n            //removeClass(maximize, \"on\");\r\n        }\r\n        else{\r\n\r\n            _template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"][prefix_request]();\r\n            //addClass(maximize, \"on\");\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @param {Event|string=} theme\r\n */\r\n\r\nfunction theme(theme){\r\n\r\n    //console.log(\"theme\", theme);\r\n\r\n    if(typeof theme !== \"string\"){\r\n\r\n        // toggle:\r\n\r\n        theme = toggle_theme ? \"\" : options_theme || \"white\";\r\n    }\r\n\r\n    if(toggle_theme !== theme){\r\n\r\n        // set:\r\n\r\n        toggle_theme && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], toggle_theme);\r\n        theme && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], theme);\r\n        toggle_theme = theme;\r\n    }\r\n}\r\n\r\n/**\r\n * @param {Event|boolean=} init\r\n */\r\n\r\nfunction autofit(init){\r\n\r\n    //console.log(\"autofit\", init);\r\n\r\n    if(typeof init === \"boolean\"){\r\n\r\n        toggle_autofit = !init;\r\n    }\r\n\r\n    toggle_autofit = (scale === 1) && !toggle_autofit;\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(media, \"autofit\", toggle_autofit);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(media, \"transform\", \"\");\r\n\r\n    scale = 1;\r\n    x = 0;\r\n    y = 0;\r\n\r\n    update_media_viewport();\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleAnimation)(panel);\r\n    update_panel();\r\n    //autohide();\r\n}\r\n\r\n/**\r\n * @param {Event=} e\r\n */\r\n\r\nfunction zoom_in(e){\r\n\r\n    //console.log(\"zoom_in\");\r\n\r\n    let value = scale / 0.65;\r\n\r\n    if(value <= 50){\r\n\r\n        //console.log(toggle_autofit);\r\n\r\n        disable_autoresizer();\r\n\r\n        // if(options_fit){\r\n        //\r\n        //     removeClass(media, options_fit);\r\n        // }\r\n\r\n        x /= 0.65;\r\n        y /= 0.65;\r\n\r\n        update_panel(x, y);\r\n        zoom(value);\r\n    }\r\n\r\n    //e && autohide();\r\n}\r\n\r\n/**\r\n * @param {Event=} e\r\n */\r\n\r\nfunction zoom_out(e){\r\n\r\n    //console.log(\"zoom_out\");\r\n\r\n    let value = scale * 0.65;\r\n\r\n    disable_autoresizer();\r\n\r\n    if(value >= 1){\r\n\r\n        if(value === 1){\r\n\r\n            x = y = 0;\r\n\r\n            // if(options_fit){\r\n            //\r\n            //     addClass(media, options_fit);\r\n            // }\r\n        }\r\n        else{\r\n\r\n            x *= 0.65;\r\n            y *= 0.65;\r\n        }\r\n\r\n        update_panel(x, y);\r\n        zoom(value);\r\n    }\r\n\r\n    //e && autohide();\r\n}\r\n\r\n/**\r\n * @param {number=} factor\r\n */\r\n\r\nfunction zoom(factor){\r\n\r\n    //console.log(\"zoom\", factor);\r\n\r\n    scale = factor || 1;\r\n\r\n    update_scroll();\r\n}\r\n\r\nfunction disable_autoresizer(){\r\n\r\n    //console.log(\"disable_autoresizer\");\r\n\r\n    //update_media_dimension();\r\n\r\n    if(toggle_autofit){\r\n\r\n        // removeClass(media, \"autofit\");\r\n        // toggle_autofit = false;\r\n\r\n        autofit();\r\n    }\r\n}\r\n\r\nfunction show_gallery(){\r\n\r\n    //console.log(\"show_gallery\");\r\n\r\n    history.pushState({ \"spl\": 1 }, \"\");\r\n    history.pushState({ \"spl\": 2 }, \"\");\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleAnimation)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], true);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(body, \"hide-scrollbars\");\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \"show\");\r\n\r\n    toggle_listener(true);\r\n    update_widget_viewport();\r\n    //resize_listener();\r\n    autohide();\r\n\r\n    options_autoslide && play(true, true);\r\n}\r\n\r\nfunction download(){\r\n\r\n    //console.log(\"download\", media);\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.downloadImage)(body, media);\r\n}\r\n\r\n/**\r\n * @param {boolean=} hashchange\r\n */\r\n\r\nfunction close(hashchange){\r\n\r\n    //console.log(\"close\", hashchange);\r\n\r\n    setTimeout(function(){\r\n\r\n        body.removeChild(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n        panel = media = gallery = options = options_group = anchors = options_onshow = options_onchange = options_onclose = options_click = null;\r\n\r\n    }, 200);\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(body, \"hide-scrollbars\");\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \"show\");\r\n\r\n    fullscreen(false);\r\n    toggle_listener();\r\n\r\n    history.go(hashchange === true ? -1 : -2);\r\n\r\n    // teardown\r\n\r\n    gallery_next && (media_next.src = \"\");\r\n    playing && play();\r\n    media && checkout(media);\r\n    hide && (hide = clearTimeout(hide));\r\n    toggle_theme && theme();\r\n    options_class && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], options_class);\r\n    options_onclose && options_onclose();\r\n}\r\n\r\nfunction checkout(media){\r\n\r\n    //console.log(\"checkout\");\r\n\r\n    if(media._root){\r\n\r\n        media._root.appendChild(media);\r\n        media._root = null;\r\n    }\r\n    else{\r\n\r\n        const parent = media.parentNode;\r\n        parent && parent.removeChild(media);\r\n        media = media.src = media.onerror = \"\";\r\n    }\r\n}\r\n\r\n/**\r\n * @param {Event=} e\r\n */\r\n\r\nfunction prev(e){\r\n\r\n    //console.log(\"prev\");\r\n\r\n    e && autohide();\r\n\r\n    if(slide_count > 1){\r\n\r\n        if(current_slide > 1){\r\n\r\n            return goto(current_slide - 1);\r\n        }\r\n        else if(options_infinite){\r\n\r\n            update_slider(slide_count, true);\r\n\r\n            return goto(slide_count);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @param {Event=} e\r\n */\r\n\r\nfunction next(e){\r\n\r\n    //console.log(\"next\");\r\n\r\n    e && autohide();\r\n\r\n    if(slide_count > 1){\r\n\r\n        if(current_slide < slide_count){\r\n\r\n            return goto(current_slide + 1);\r\n        }\r\n        else if(options_infinite){\r\n\r\n            update_slider(-1, true);\r\n\r\n            return goto(1);\r\n        }\r\n        else if(playing){\r\n\r\n            play();\r\n        }\r\n    }\r\n}\r\n\r\nfunction goto(slide){\r\n\r\n    //console.log(\"goto\", slide);\r\n\r\n    if(slide !== current_slide){\r\n\r\n        if(playing){\r\n\r\n            clearTimeout(playing);\r\n            animate_bar();\r\n        }\r\n        else{\r\n\r\n            autohide();\r\n        }\r\n\r\n        //playing ? animate_bar() : autohide();\r\n\r\n        const direction = slide > current_slide;\r\n\r\n        current_slide = slide;\r\n        setup_page(direction);\r\n        //options_autoslide && play(true, true);\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\nfunction prepare(direction){\r\n\r\n    //console.log(\"prepare\", direction);\r\n\r\n    let anchor = anchors[current_slide - 1];\r\n\r\n    apply_options(anchor);\r\n\r\n    const speed = connection && connection[\"downlink\"];\r\n    let size = Math.max(viewport_h, viewport_w) * dpr;\r\n\r\n    if(speed && ((speed * 1200) < size)){\r\n\r\n        size = speed * 1200;\r\n    }\r\n\r\n    let tmp;\r\n\r\n    gallery = {\r\n\r\n        media: options_media,\r\n        src: (0,_parser_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(anchor, size, options, options_media),\r\n        title: parse_option(\"title\",\r\n            anchor[\"alt\"] || anchor[\"title\"] ||\r\n            // inherit title from a direct child only\r\n            ((tmp = anchor.firstElementChild) && (tmp[\"alt\"] || tmp[\"title\"]))\r\n        )\r\n    };\r\n\r\n    gallery_next && (media_next.src = gallery_next = \"\");\r\n\r\n    if(options_preload && direction){\r\n\r\n        if((anchor = anchors[current_slide])){\r\n\r\n            const options_next = anchor.dataset || anchor;\r\n            const next_media = options_next[\"media\"];\r\n\r\n            if(!next_media || (next_media === \"image\")){\r\n\r\n                gallery_next = (0,_parser_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(anchor, size, options_next, next_media);\r\n            }\r\n        }\r\n    }\r\n\r\n    // apply controls\r\n\r\n    for(let i = 0; i < _config_js__WEBPACK_IMPORTED_MODULE_1__.controls.length; i++){\r\n\r\n        const option = _config_js__WEBPACK_IMPORTED_MODULE_1__.controls[i];\r\n\r\n        //console.log(option + \": \", options[option]);\r\n\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleDisplay)(controls_dom[option], parse_option(option, _config_js__WEBPACK_IMPORTED_MODULE_1__.controls_default[option]));\r\n    }\r\n}\r\n\r\nfunction setup_page(direction){\r\n\r\n    //console.log(\"setup_page\", direction);\r\n\r\n    x = 0;\r\n    y = 0;\r\n    scale = 1;\r\n\r\n    if(media){\r\n\r\n        // Note: the onerror callback was removed when the image was fully loaded (also for video)\r\n\r\n        if(media.onerror){\r\n\r\n            checkout(media);\r\n        }\r\n        else{\r\n\r\n            let ref = media;\r\n\r\n            setTimeout(function(){\r\n\r\n                if(ref && (media !== ref)){\r\n\r\n                    checkout(ref);\r\n                    ref = null;\r\n                }\r\n\r\n            }, 650);\r\n\r\n            // animate out the old image\r\n\r\n            prepare_animation();\r\n            update_panel();\r\n        }\r\n    }\r\n\r\n    prepare(direction);\r\n    update_slider(current_slide - 1);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(spinner, \"error\");\r\n    init_slide(current_slide);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleAnimation)(panel);\r\n    update_panel();\r\n\r\n    const str_title = gallery.title;\r\n    const str_description = parse_option(\"description\");\r\n    const str_button = parse_option(\"button\");\r\n    const has_content = str_title || str_description || str_button;\r\n\r\n    if(has_content){\r\n\r\n        str_title && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setText)(title, str_title);\r\n        str_description && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setText)(description, str_description);\r\n        str_button && (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setText)(button, str_button);\r\n\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleDisplay)(title, str_title);\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleDisplay)(description, str_description);\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleDisplay)(button, str_button);\r\n\r\n        (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setStyle)(footer, \"transform\", options_autohide === \"all\" ? \"\" : \"none\");\r\n    }\r\n\r\n    options_autohide || (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(_template_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \"menu\");\r\n\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleVisibility)(footer, has_content);\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleVisibility)(page_prev, options_infinite || (current_slide > 1));\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.toggleVisibility)(page_next, options_infinite || (current_slide < slide_count));\r\n    (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.setText)(page, slide_count > 1 ? current_slide + \" / \" + slide_count : \"\");\r\n\r\n    options_onchange && options_onchange(current_slide, options);\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n\r\n    init: init,\r\n    theme: theme,\r\n    fullscreen: fullscreen,\r\n    download: download,\r\n    autofit: autofit,\r\n    next: next,\r\n    prev: prev,\r\n    goto: goto,\r\n    close: close,\r\n    zoom: zoom,\r\n    menu: menu,\r\n    show: show,\r\n    play: play,\r\n    addControl: addControl,\r\n    removeControl: removeControl\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNjX2NsaWVudCkvLi9ub2RlX21vZHVsZXMvc3BvdGxpZ2h0LmpzL3NyYy9qcy9zcG90bGlnaHQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbUJxQjtBQUNyQjtBQUNtRTtBQUNoQztBQUNDO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5REFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUFXO0FBQ1g7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBWSxJQUFJO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksdURBQVc7QUFDZixJ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O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLElBQUksdURBQWUsRUFBRTtBQUN4QztBQUNBLHVCQUF1QixnREFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlEQUFhLDRDQUE0Qyx3REFBZ0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHVEQUFXO0FBQ2Y7QUFDQSxJQUFJLDJEQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtREFBTztBQUM1QiwyQkFBMkIsbURBQU87QUFDbEMsc0JBQXNCLG1EQUFPO0FBQzdCO0FBQ0EsUUFBUSx5REFBYTtBQUNyQixRQUFRLHlEQUFhO0FBQ3JCLFFBQVEseURBQWE7QUFDckI7QUFDQSxRQUFRLG9EQUFRO0FBQ2hCO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQVEsQ0FBQyxvREFBTTtBQUN2QztBQUNBLElBQUksNERBQWdCO0FBQ3BCLElBQUksNERBQWdCO0FBQ3BCLElBQUksNERBQWdCO0FBQ3BCLElBQUksbURBQU87QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3Nwb3RsaWdodC5qcy9zcmMvanMvc3BvdGxpZ2h0LmpzPzQ1YTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFNwb3RsaWdodC5qc1xyXG4gKiBDb3B5cmlnaHQgMjAxOS0yMDIxIE5leHRhcHBzIEdtYkhcclxuICogQXV0aG9yOiBUaG9tYXMgV2lsa2VybGluZ1xyXG4gKiBMaWNlbmNlOiBBcGFjaGUtMi4wXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uZXh0YXBwcy1kZS9zcG90bGlnaHRcclxuICovXHJcblxyXG5pbXBvcnQge1xyXG5cclxuICAgIGFkZENsYXNzLFxyXG4gICAgcmVtb3ZlQ2xhc3MsXHJcbiAgICB0b2dnbGVDbGFzcyxcclxuICAgIHNldFN0eWxlLFxyXG4gICAgcHJlcGFyZVN0eWxlLFxyXG4gICAgZ2V0QnlDbGFzcyxcclxuICAgIHNldFRleHQsXHJcbiAgICBhZGRMaXN0ZW5lcixcclxuICAgIHRvZ2dsZUxpc3RlbmVyLFxyXG4gICAgY2FuY2VsRXZlbnQsXHJcbiAgICBjcmVhdGVFbGVtZW50LFxyXG4gICAgdG9nZ2xlRGlzcGxheSxcclxuICAgIHRvZ2dsZUFuaW1hdGlvbixcclxuICAgIHRvZ2dsZVZpc2liaWxpdHksXHJcbiAgICBkb3dubG9hZEltYWdlXHJcblxyXG59IGZyb20gXCIuL2hlbHBlci5qc1wiO1xyXG5cclxuaW1wb3J0IHsgY29udHJvbHMsIGNvbnRyb2xzX2RlZmF1bHQsIGtleWNvZGVzIH0gZnJvbSBcIi4vY29uZmlnLmpzXCI7XHJcbmltcG9ydCB3aWRnZXQgZnJvbSBcIi4vdGVtcGxhdGUuanNcIjtcclxuaW1wb3J0IHBhcnNlX3NyYyBmcm9tIFwiLi9wYXJzZXIuanNcIjtcclxuXHJcbmNvbnN0IGNvbnRyb2xzX2RvbSA9IHt9O1xyXG5jb25zdCBjb25uZWN0aW9uID0gbmF2aWdhdG9yW1wiY29ubmVjdGlvblwiXTtcclxuY29uc3QgZHByID0gd2luZG93W1wiZGV2aWNlUGl4ZWxSYXRpb1wiXSB8fCAxO1xyXG5cclxubGV0IHg7XHJcbmxldCB5O1xyXG5sZXQgc3RhcnRYO1xyXG5sZXQgc3RhcnRZO1xyXG5sZXQgdmlld3BvcnRfdztcclxubGV0IHZpZXdwb3J0X2g7XHJcbmxldCBtZWRpYV93O1xyXG5sZXQgbWVkaWFfaDtcclxubGV0IHNjYWxlO1xyXG5cclxubGV0IGlzX2Rvd247XHJcbmxldCBkcmFnZ2VkO1xyXG5sZXQgc2xpZGFibGU7XHJcbmxldCB0b2dnbGVfYXV0b2ZpdDtcclxubGV0IHRvZ2dsZV90aGVtZTtcclxuXHJcbmxldCBjdXJyZW50X3NsaWRlO1xyXG5sZXQgc2xpZGVfY291bnQ7XHJcbmxldCBhbmNob3JzO1xyXG5sZXQgb3B0aW9ucztcclxubGV0IG9wdGlvbnNfbWVkaWE7XHJcbmxldCBvcHRpb25zX2dyb3VwO1xyXG5sZXQgb3B0aW9uc19pbmZpbml0ZTtcclxubGV0IG9wdGlvbnNfcHJvZ3Jlc3M7XHJcbmxldCBvcHRpb25zX29uc2hvdztcclxubGV0IG9wdGlvbnNfb25jaGFuZ2U7XHJcbmxldCBvcHRpb25zX29uY2xvc2U7XHJcbmxldCBvcHRpb25zX2ZpdDtcclxubGV0IG9wdGlvbnNfYXV0b2hpZGU7XHJcbmxldCBvcHRpb25zX2F1dG9zbGlkZTtcclxubGV0IG9wdGlvbnNfdGhlbWU7XHJcbmxldCBvcHRpb25zX3ByZWxvYWQ7XHJcbmxldCBvcHRpb25zX2hyZWY7XHJcbmxldCBvcHRpb25zX2NsaWNrO1xyXG5sZXQgb3B0aW9uc19jbGFzcztcclxubGV0IGRlbGF5O1xyXG5cclxubGV0IGFuaW1hdGlvbl9zY2FsZTtcclxubGV0IGFuaW1hdGlvbl9mYWRlO1xyXG5sZXQgYW5pbWF0aW9uX3NsaWRlO1xyXG5sZXQgYW5pbWF0aW9uX2N1c3RvbTtcclxuXHJcbmxldCBib2R5O1xyXG5sZXQgcGFuZWw7XHJcbmxldCBwYW5lcztcclxubGV0IG1lZGlhO1xyXG5sZXQgbWVkaWFfbmV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbmxldCBzbGlkZXI7XHJcbmxldCBoZWFkZXI7XHJcbmxldCBmb290ZXI7XHJcbmxldCB0aXRsZTtcclxubGV0IGRlc2NyaXB0aW9uO1xyXG5sZXQgYnV0dG9uO1xyXG5sZXQgcGFnZV9wcmV2O1xyXG5sZXQgcGFnZV9uZXh0O1xyXG5sZXQgbWF4aW1pemU7XHJcbmxldCBwYWdlO1xyXG5sZXQgcGxheWVyO1xyXG5sZXQgcHJvZ3Jlc3M7XHJcbmxldCBzcGlubmVyO1xyXG5cclxubGV0IGdhbGxlcnk7XHJcbmxldCBnYWxsZXJ5X25leHQ7XHJcbmxldCBwbGF5aW5nO1xyXG5sZXQgaGlkZTtcclxubGV0IGhpZGVfY29vbGRvd247XHJcblxyXG5sZXQgcHJlZml4X3JlcXVlc3QsIHByZWZpeF9leGl0O1xyXG5cclxuYWRkTGlzdGVuZXIoZG9jdW1lbnQsIFwiY2xpY2tcIiwgZGlzcGF0Y2gpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKXtcclxuXHJcbiAgICBpZihib2R5KXtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJpbml0XCIpO1xyXG5cclxuICAgIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgc2xpZGVyID0gZ2V0T25lQnlDbGFzcyhcInNjZW5lXCIpO1xyXG4gICAgaGVhZGVyID0gZ2V0T25lQnlDbGFzcyhcImhlYWRlclwiKTtcclxuICAgIGZvb3RlciA9IGdldE9uZUJ5Q2xhc3MoXCJmb290ZXJcIik7XHJcbiAgICB0aXRsZSA9IGdldE9uZUJ5Q2xhc3MoXCJ0aXRsZVwiKTtcclxuICAgIGRlc2NyaXB0aW9uID0gZ2V0T25lQnlDbGFzcyhcImRlc2NyaXB0aW9uXCIpO1xyXG4gICAgYnV0dG9uID0gZ2V0T25lQnlDbGFzcyhcImJ1dHRvblwiKTtcclxuICAgIHBhZ2VfcHJldiA9IGdldE9uZUJ5Q2xhc3MoXCJwcmV2XCIpO1xyXG4gICAgcGFnZV9uZXh0ID0gZ2V0T25lQnlDbGFzcyhcIm5leHRcIik7XHJcbiAgICBwYWdlID0gZ2V0T25lQnlDbGFzcyhcInBhZ2VcIik7XHJcbiAgICBwcm9ncmVzcyA9IGdldE9uZUJ5Q2xhc3MoXCJwcm9ncmVzc1wiKTtcclxuICAgIHNwaW5uZXIgPSBnZXRPbmVCeUNsYXNzKFwic3Bpbm5lclwiKTtcclxuICAgIHBhbmVzID0gW2dldE9uZUJ5Q2xhc3MoXCJwYW5lXCIpXTtcclxuXHJcbiAgICBhZGRDb250cm9sKFwiY2xvc2VcIiwgY2xvc2UpO1xyXG5cclxuICAgIGJvZHlbcHJlZml4X3JlcXVlc3QgPSBcInJlcXVlc3RGdWxsc2NyZWVuXCJdIHx8XHJcbiAgICBib2R5W3ByZWZpeF9yZXF1ZXN0ID0gXCJtc1JlcXVlc3RGdWxsc2NyZWVuXCJdIHx8XHJcbiAgICBib2R5W3ByZWZpeF9yZXF1ZXN0ID0gXCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlblwiXSB8fFxyXG4gICAgYm9keVtwcmVmaXhfcmVxdWVzdCA9IFwibW96UmVxdWVzdEZ1bGxzY3JlZW5cIl0gfHxcclxuICAgIChwcmVmaXhfcmVxdWVzdCA9IFwiXCIpO1xyXG5cclxuICAgIGlmKHByZWZpeF9yZXF1ZXN0KXtcclxuXHJcbiAgICAgICAgcHJlZml4X2V4aXQgPSAoXHJcblxyXG4gICAgICAgICAgICBwcmVmaXhfcmVxdWVzdC5yZXBsYWNlKFwicmVxdWVzdFwiLCBcImV4aXRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIm1velJlcXVlc3RcIiwgXCJtb3pDYW5jZWxcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIlJlcXVlc3RcIiwgXCJFeGl0XCIpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbWF4aW1pemUgPSBhZGRDb250cm9sKFwiZnVsbHNjcmVlblwiLCBmdWxsc2NyZWVuKTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcblxyXG4gICAgICAgIGNvbnRyb2xzLnBvcCgpOyAvLyA9PiBcImZ1bGxzY3JlZW5cIlxyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbnRyb2woXCJhdXRvZml0XCIsIGF1dG9maXQpO1xyXG4gICAgYWRkQ29udHJvbChcInpvb20taW5cIiwgem9vbV9pbik7XHJcbiAgICBhZGRDb250cm9sKFwiem9vbS1vdXRcIiwgem9vbV9vdXQpO1xyXG4gICAgYWRkQ29udHJvbChcInRoZW1lXCIsIHRoZW1lKTtcclxuICAgIHBsYXllciA9IGFkZENvbnRyb2woXCJwbGF5XCIsIHBsYXkpO1xyXG4gICAgYWRkQ29udHJvbChcImRvd25sb2FkXCIsIGRvd25sb2FkKTtcclxuXHJcbiAgICBhZGRMaXN0ZW5lcihwYWdlX3ByZXYsIFwiY2xpY2tcIiwgcHJldik7XHJcbiAgICBhZGRMaXN0ZW5lcihwYWdlX25leHQsIFwiY2xpY2tcIiwgbmV4dCk7XHJcblxyXG4gICAgLypcclxuICAgICAqIGJpbmRpbmcgdGhlIHRyYWNraW5nIGxpc3RlbmVycyB0byB0aGUgXCJ3aWRnZXRcIiB3aWxsIHByZXZlbnQgYWxsIGNsaWNrIGxpc3RlbmVycyB0byBiZSBmaXJlZFxyXG4gICAgICogYmluZGluZyB0aGUgdHJhY2tpbmcgbGlzdGVuZXJzIHRvIHRoZSBcInNwbC1zY2VuZVwiIGJyZWFrcyBvbiBpT1MgKHNlZW1zIHRvIGJlIGEgYnVnIGluIHRoZWlyIHZpc3VhbC90b3VjaGFibGUgb3ZlcmZsb3cgY2FsY3VsYXRpb24pXHJcbiAgICAgKiBiaW5kaW5nIHRoZSB0cmFja2luZyBsaXN0ZW5lcnMgdG8gYSB3cmFwcGVyIFwidHJhY2tcIiB3aWxsIGZpeCBib3RoXHJcbiAgICAgKiB0aGUgc3Bpbm5lciBlbGVtZW50IGNvdWxkIG5vdCBiZSB1c2VkLCBpdCBpcyBiZWxvdyB0aGUgd2lkZ2V0IHRvIGFsbG93IHVzZXIgYWN0aW9ucyAocG9pbnRlcnMpXHJcbiAgICAgKi9cclxuXHJcbiAgICBjb25zdCB0cmFjayA9IGdldE9uZUJ5Q2xhc3MoXCJ0cmFja1wiKTtcclxuXHJcbiAgICBhZGRMaXN0ZW5lcih0cmFjaywgXCJtb3VzZWRvd25cIiwgc3RhcnQpO1xyXG4gICAgYWRkTGlzdGVuZXIodHJhY2ssIFwibW91c2Vtb3ZlXCIsIG1vdmUpO1xyXG4gICAgYWRkTGlzdGVuZXIodHJhY2ssIFwibW91c2VsZWF2ZVwiLCBlbmQpO1xyXG4gICAgYWRkTGlzdGVuZXIodHJhY2ssIFwibW91c2V1cFwiLCBlbmQpO1xyXG5cclxuICAgIGFkZExpc3RlbmVyKHRyYWNrLCBcInRvdWNoc3RhcnRcIiwgc3RhcnQsIHsgXCJwYXNzaXZlXCI6IGZhbHNlIH0pO1xyXG4gICAgYWRkTGlzdGVuZXIodHJhY2ssIFwidG91Y2htb3ZlXCIsIG1vdmUsIHsgXCJwYXNzaXZlXCI6IHRydWUgfSk7XHJcbiAgICAvL2FkZExpc3RlbmVyKHRyYWNrLCBcInRvdWNoY2FuY2VsXCIsIGVuZCk7XHJcbiAgICBhZGRMaXN0ZW5lcih0cmFjaywgXCJ0b3VjaGVuZFwiLCBlbmQpO1xyXG4gICAgLy8gY2xpY2sgbGlzdGVuZXIgZm9yIHRoZSB3cmFwcGVyIFwidHJhY2tcIiBpcyBhbHJlYWR5IGNvdmVyZWRcclxuICAgIC8vYWRkTGlzdGVuZXIodHJhY2ssIFwiY2xpY2tcIiwgbWVudSk7XHJcblxyXG4gICAgYWRkTGlzdGVuZXIoYnV0dG9uLCBcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgIGlmKG9wdGlvbnNfY2xpY2spe1xyXG5cclxuICAgICAgICAgICAgb3B0aW9uc19jbGljayhjdXJyZW50X3NsaWRlLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihvcHRpb25zX2hyZWYpe1xyXG5cclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IG9wdGlvbnNfaHJlZjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc25hbWVcclxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cclxuICAgICAqL1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldE9uZUJ5Q2xhc3MoY2xhc3NuYW1lKXtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImdldE9uZUJ5Q2xhc3NcIiwgY2xhc3NfbmFtZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjb250cm9sc19kb21bY2xhc3NuYW1lXSA9IGdldEJ5Q2xhc3MoXCJzcGwtXCIgKyBjbGFzc25hbWUsIHdpZGdldClbMF07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRDb250cm9sKGNsYXNzbmFtZSwgZm4pe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJhZGRDb250cm9sXCIsIGNsYXNzbmFtZSwgZm4pO1xyXG5cclxuICAgIGNvbnN0IGRpdiA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblxyXG4gICAgZGl2LmNsYXNzTmFtZSA9IFwic3BsLVwiICsgY2xhc3NuYW1lO1xyXG4gICAgYWRkTGlzdGVuZXIoZGl2LCBcImNsaWNrXCIsIGZuKTtcclxuICAgIGhlYWRlci5hcHBlbmRDaGlsZChkaXYpO1xyXG5cclxuICAgIHJldHVybiBjb250cm9sc19kb21bY2xhc3NuYW1lXSA9IGRpdjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNvbnRyb2woY2xhc3NuYW1lKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiZGlzcGF0Y2hcIiwgY2xhc3NuYW1lKTtcclxuXHJcbiAgICBjb25zdCBkaXYgPSBjb250cm9sc19kb21bY2xhc3NuYW1lXTtcclxuXHJcbiAgICBpZihkaXYpe1xyXG5cclxuICAgICAgICBoZWFkZXIucmVtb3ZlQ2hpbGQoZGl2KTtcclxuICAgICAgICBjb250cm9sc19kb21bY2xhc3NuYW1lXSA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpc3BhdGNoKGV2ZW50KXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiZGlzcGF0Y2hcIik7XHJcblxyXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCIuc3BvdGxpZ2h0XCIpO1xyXG5cclxuICAgIGlmKHRhcmdldCl7XHJcblxyXG4gICAgICAgIGNhbmNlbEV2ZW50KGV2ZW50LCB0cnVlKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0YXJnZXQuY2xvc2VzdChcIi5zcG90bGlnaHQtZ3JvdXBcIik7XHJcblxyXG4gICAgICAgIGFuY2hvcnMgPSBnZXRCeUNsYXNzKFwic3BvdGxpZ2h0XCIsIGdyb3VwKTtcclxuXHJcbiAgICAgICAgLy8gZGV0ZXJtaW5lIGN1cnJlbnQgc2VsZWN0ZWQgaW5kZXhcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGFuY2hvcnMubGVuZ3RoOyBpKyspe1xyXG5cclxuICAgICAgICAgICAgaWYoYW5jaG9yc1tpXSA9PT0gdGFyZ2V0KXtcclxuXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zX2dyb3VwID0gZ3JvdXAgJiYgZ3JvdXAuZGF0YXNldDtcclxuICAgICAgICAgICAgICAgIGluaXRfZ2FsbGVyeShpICsgMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7IUhUTUxDb2xsZWN0aW9ufEFycmF5fSBnYWxsZXJ5XHJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gZ3JvdXBcclxuICogQHBhcmFtIHtudW1iZXI9fSBpbmRleFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93KGdhbGxlcnksIGdyb3VwLCBpbmRleCl7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZyhcInNob3dcIiwgZ2FsbGVyeSwgY29uZmlnKTtcclxuXHJcbiAgICBhbmNob3JzID0gZ2FsbGVyeTtcclxuXHJcbiAgICBpZihncm91cCl7XHJcblxyXG4gICAgICAgIG9wdGlvbnNfZ3JvdXAgPSBncm91cDtcclxuICAgICAgICBvcHRpb25zX29uc2hvdyA9IGdyb3VwW1wib25zaG93XCJdO1xyXG4gICAgICAgIG9wdGlvbnNfb25jaGFuZ2UgPSBncm91cFtcIm9uY2hhbmdlXCJdO1xyXG4gICAgICAgIG9wdGlvbnNfb25jbG9zZSA9IGdyb3VwW1wib25jbG9zZVwiXTtcclxuICAgICAgICBpbmRleCA9IGluZGV4IHx8IGdyb3VwW1wiaW5kZXhcIl07XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdF9nYWxsZXJ5KGluZGV4KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdF9nYWxsZXJ5KGluZGV4KXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiaW5pdF9nYWxsZXJ5XCIsIGluZGV4KTtcclxuXHJcbiAgICBzbGlkZV9jb3VudCA9IGFuY2hvcnMubGVuZ3RoO1xyXG5cclxuICAgIGlmKHNsaWRlX2NvdW50KXtcclxuXHJcbiAgICAgICAgYm9keSB8fCBpbml0KCk7XHJcbiAgICAgICAgb3B0aW9uc19vbnNob3cgJiYgb3B0aW9uc19vbnNob3coaW5kZXgpO1xyXG5cclxuICAgICAgICBjb25zdCBwYW5lID0gcGFuZXNbMF07XHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcGFuZS5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgICBmb3IobGV0IGkgPSBwYW5lcy5sZW5ndGg7IGkgPCBzbGlkZV9jb3VudDsgaSsrKXtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0gcGFuZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgc2V0U3R5bGUoY2xvbmUsIFwibGVmdFwiLCAoaSAqIDEwMCkgKyBcIiVcIik7XHJcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjbG9uZSk7XHJcbiAgICAgICAgICAgIHBhbmVzW2ldID0gY2xvbmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighcGFuZWwpe1xyXG5cclxuICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZCh3aWRnZXQpO1xyXG4gICAgICAgICAgICB1cGRhdGVfd2lkZ2V0X3ZpZXdwb3J0KCk7XHJcbiAgICAgICAgICAgIC8vcmVzaXplX2xpc3RlbmVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdXJyZW50X3NsaWRlID0gaW5kZXggfHwgMTtcclxuICAgICAgICB0b2dnbGVBbmltYXRpb24oc2xpZGVyKTtcclxuICAgICAgICBzZXR1cF9wYWdlKHRydWUpO1xyXG4gICAgICAgIHByZWZpeF9yZXF1ZXN0ICYmIGRldGVjdF9mdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgc2hvd19nYWxsZXJ5KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XHJcbiAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd8bnVtYmVyPX0gaXNfZGVmYXVsdFxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHBhcnNlX29wdGlvbihrZXksIGlzX2RlZmF1bHQpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJwYXJzZV9vcHRpb25cIiwga2V5LCBpc19kZWZhdWx0KTtcclxuXHJcbiAgICBsZXQgdmFsID0gb3B0aW9uc1trZXldO1xyXG5cclxuICAgIGlmKHR5cGVvZiB2YWwgIT09IFwidW5kZWZpbmVkXCIpe1xyXG5cclxuICAgICAgICB2YWwgPSBcIlwiICsgdmFsO1xyXG5cclxuICAgICAgICByZXR1cm4gKHZhbCAhPT0gXCJmYWxzZVwiKSAmJiAodmFsIHx8IGlzX2RlZmF1bHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc19kZWZhdWx0O1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtPYmplY3R9IGFuY2hvclxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIGFwcGx5X29wdGlvbnMoYW5jaG9yKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiYXBwbHlfb3B0aW9uc1wiLCBhbmNob3IpO1xyXG5cclxuICAgIG9wdGlvbnMgPSB7fTtcclxuICAgIG9wdGlvbnNfZ3JvdXAgJiYgT2JqZWN0LmFzc2lnbihvcHRpb25zLCBvcHRpb25zX2dyb3VwKTtcclxuICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgYW5jaG9yLmRhdGFzZXQgfHwgYW5jaG9yKTtcclxuXHJcbiAgICAvLyBUT0RPOiB0aGVtZSBpcyBpY29uIGFuZCBvcHRpb24gZmllbGQhXHJcblxyXG4gICAgb3B0aW9uc19tZWRpYSA9IG9wdGlvbnNbXCJtZWRpYVwiXTtcclxuICAgIG9wdGlvbnNfY2xpY2sgPSBvcHRpb25zW1wib25jbGlja1wiXTtcclxuICAgIG9wdGlvbnNfdGhlbWUgPSBvcHRpb25zW1widGhlbWVcIl07XHJcbiAgICBvcHRpb25zX2NsYXNzID0gb3B0aW9uc1tcImNsYXNzXCJdO1xyXG4gICAgb3B0aW9uc19hdXRvaGlkZSA9IHBhcnNlX29wdGlvbihcImF1dG9oaWRlXCIsIHRydWUpO1xyXG4gICAgb3B0aW9uc19pbmZpbml0ZSA9IHBhcnNlX29wdGlvbihcImluZmluaXRlXCIpO1xyXG4gICAgb3B0aW9uc19wcm9ncmVzcyA9IHBhcnNlX29wdGlvbihcInByb2dyZXNzXCIsIHRydWUpO1xyXG4gICAgb3B0aW9uc19hdXRvc2xpZGUgPSBwYXJzZV9vcHRpb24oXCJhdXRvc2xpZGVcIik7XHJcbiAgICBvcHRpb25zX3ByZWxvYWQgPSBwYXJzZV9vcHRpb24oXCJwcmVsb2FkXCIsIHRydWUpO1xyXG4gICAgb3B0aW9uc19ocmVmID0gb3B0aW9uc1tcImJ1dHRvbkhyZWZcIl07XHJcbiAgICBkZWxheSA9IChvcHRpb25zX2F1dG9zbGlkZSAmJiBwYXJzZUZsb2F0KG9wdGlvbnNfYXV0b3NsaWRlKSkgfHwgNztcclxuICAgIHRvZ2dsZV90aGVtZSB8fCAob3B0aW9uc190aGVtZSAmJiB0aGVtZShvcHRpb25zX3RoZW1lKSk7XHJcbiAgICBvcHRpb25zX2NsYXNzICYmIGFkZENsYXNzKHdpZGdldCwgb3B0aW9uc19jbGFzcyk7XHJcbiAgICBvcHRpb25zX2NsYXNzICYmIHByZXBhcmVTdHlsZSh3aWRnZXQpXHJcblxyXG4gICAgY29uc3QgY29udHJvbCA9IG9wdGlvbnNbXCJjb250cm9sXCJdO1xyXG5cclxuICAgIC8vIGRldGVybWluZSBjb250cm9sc1xyXG5cclxuICAgIGlmKGNvbnRyb2wpe1xyXG5cclxuICAgICAgICBjb25zdCB3aGl0ZWxpc3QgPSAoXHJcblxyXG4gICAgICAgICAgICB0eXBlb2YgY29udHJvbCA9PT0gXCJzdHJpbmdcIiA/XHJcblxyXG4gICAgICAgICAgICAgICAgY29udHJvbC5zcGxpdChcIixcIilcclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgY29udHJvbFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIHByZXBhcmUgdG8gZmFsc2Ugd2hlbiB1c2luZyB3aGl0ZWxpc3RcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNvbnRyb2xzLmxlbmd0aDsgaSsrKXtcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnNbY29udHJvbHNbaV1dID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBhcHBseSB3aGl0ZWxpc3RcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHdoaXRlbGlzdC5sZW5ndGg7IGkrKyl7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSB3aGl0ZWxpc3RbaV0udHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gaGFuZGxlIHNob3J0aGFuZCBcInpvb21cIlxyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9uID09PSBcInpvb21cIil7XHJcblxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc1tcInpvb20taW5cIl0gPVxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc1tcInpvb20tb3V0XCJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG5cclxuICAgICAgICAgICAgICAgIG9wdGlvbnNbb3B0aW9uXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZGV0ZXJtaW5lIGFuaW1hdGlvbnNcclxuXHJcbiAgICBjb25zdCBhbmltYXRpb24gPSBvcHRpb25zW1wiYW5pbWF0aW9uXCJdO1xyXG5cclxuICAgIGFuaW1hdGlvbl9zY2FsZSA9IGFuaW1hdGlvbl9mYWRlID0gYW5pbWF0aW9uX3NsaWRlID0gIWFuaW1hdGlvbjtcclxuICAgIGFuaW1hdGlvbl9jdXN0b20gPSBmYWxzZTtcclxuXHJcbiAgICBpZihhbmltYXRpb24pe1xyXG5cclxuICAgICAgICBjb25zdCB3aGl0ZWxpc3QgPSAoXHJcblxyXG4gICAgICAgICAgICB0eXBlb2YgYW5pbWF0aW9uID09PSBcInN0cmluZ1wiID9cclxuXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uc3BsaXQoXCIsXCIpXHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvblxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIGFwcGx5IHdoaXRlbGlzdFxyXG5cclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgd2hpdGVsaXN0Lmxlbmd0aDsgaSsrKXtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IHdoaXRlbGlzdFtpXS50cmltKCk7XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb24gPT09IFwic2NhbGVcIil7XHJcblxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uX3NjYWxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKG9wdGlvbiA9PT0gXCJmYWRlXCIpe1xyXG5cclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9mYWRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKG9wdGlvbiA9PT0gXCJzbGlkZVwiKXtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25fc2xpZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYob3B0aW9uKXtcclxuXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25fY3VzdG9tID0gb3B0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9wdGlvbnNfZml0ID0gb3B0aW9uc1tcImZpdFwiXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHByZXBhcmVcclxuICovXHJcblxyXG5mdW5jdGlvbiBwcmVwYXJlX2FuaW1hdGlvbihwcmVwYXJlKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwicHJlcGFyZV9hbmltYXRpb25cIiwgcHJlcGFyZSk7XHJcblxyXG4gICAgaWYocHJlcGFyZSl7XHJcblxyXG4gICAgICAgIHByZXBhcmVTdHlsZShtZWRpYSwgcHJlcGFyZV9hbmltYXRpb24pO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuXHJcbiAgICAgICAgdG9nZ2xlQW5pbWF0aW9uKHNsaWRlciwgYW5pbWF0aW9uX3NsaWRlKTtcclxuICAgICAgICBzZXRTdHlsZShtZWRpYSwgXCJvcGFjaXR5XCIsIGFuaW1hdGlvbl9mYWRlID8gMCA6IDEpO1xyXG4gICAgICAgIHVwZGF0ZV9zY3JvbGwoYW5pbWF0aW9uX3NjYWxlICYmIDAuOCk7XHJcbiAgICAgICAgYW5pbWF0aW9uX2N1c3RvbSAmJiBhZGRDbGFzcyhtZWRpYSwgYW5pbWF0aW9uX2N1c3RvbSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRfc2xpZGUoaW5kZXgpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJpbml0X3NsaWRlXCIsIGluZGV4KTtcclxuXHJcbiAgICBwYW5lbCA9IHBhbmVzW2luZGV4IC0gMV07XHJcbiAgICBtZWRpYSA9IC8qKiBAdHlwZSB7SW1hZ2V8SFRNTFZpZGVvRWxlbWVudHxIVE1MRWxlbWVudH0gKi8gKHBhbmVsLmZpcnN0Q2hpbGQpO1xyXG4gICAgY3VycmVudF9zbGlkZSA9IGluZGV4O1xyXG5cclxuICAgIGlmKG1lZGlhKXtcclxuXHJcbiAgICAgICAgZGlzYWJsZV9hdXRvcmVzaXplcigpO1xyXG5cclxuICAgICAgICBpZihvcHRpb25zX2ZpdCl7XHJcblxyXG4gICAgICAgICAgICBhZGRDbGFzcyhtZWRpYSwgb3B0aW9uc19maXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJlcGFyZV9hbmltYXRpb24odHJ1ZSk7XHJcblxyXG4gICAgICAgIGFuaW1hdGlvbl9jdXN0b20gJiYgcmVtb3ZlQ2xhc3MobWVkaWEsIGFuaW1hdGlvbl9jdXN0b20pO1xyXG4gICAgICAgIGFuaW1hdGlvbl9mYWRlICYmIHNldFN0eWxlKG1lZGlhLCBcIm9wYWNpdHlcIiwgMSk7XHJcbiAgICAgICAgYW5pbWF0aW9uX3NjYWxlICYmIHNldFN0eWxlKG1lZGlhLCBcInRyYW5zZm9ybVwiLCBcIlwiKTtcclxuICAgICAgICBzZXRTdHlsZShtZWRpYSwgXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcclxuXHJcbiAgICAgICAgZ2FsbGVyeV9uZXh0ICYmIChtZWRpYV9uZXh0LnNyYyA9IGdhbGxlcnlfbmV4dCk7XHJcbiAgICAgICAgb3B0aW9uc19hdXRvc2xpZGUgJiYgYW5pbWF0ZV9iYXIocGxheWluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG5cclxuICAgICAgICBjb25zdCB0eXBlID0gZ2FsbGVyeS5tZWRpYTtcclxuICAgICAgICBjb25zdCBvcHRpb25zX3NwaW5uZXIgPSBwYXJzZV9vcHRpb24oXCJzcGlubmVyXCIsIHRydWUpO1xyXG5cclxuICAgICAgICBpZih0eXBlID09PSBcInZpZGVvXCIpe1xyXG5cclxuICAgICAgICAgICAgdG9nZ2xlX3NwaW5uZXIob3B0aW9uc19zcGlubmVyLCB0cnVlKTtcclxuICAgICAgICAgICAgbWVkaWEgPSAvKiogQHR5cGUge0hUTUxWaWRlb0VsZW1lbnR9ICovIChjcmVhdGVFbGVtZW50KFwidmlkZW9cIikpO1xyXG5cclxuICAgICAgICAgICAgbWVkaWEub25sb2FkZWRtZXRhZGF0YSA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYobWVkaWEgPT09IHRoaXMpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtZWRpYS5vbmVycm9yID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYS53aWR0aCA9IG1lZGlhLnZpZGVvV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuaGVpZ2h0ID0gbWVkaWEudmlkZW9IZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlX21lZGlhX3ZpZXdwb3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlX3NwaW5uZXIob3B0aW9uc19zcGlubmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpbml0X3NsaWRlKGluZGV4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIG1lZGlhLnBvc3RlciA9IG9wdGlvbnNbXCJwb3N0ZXJcIl07XHJcbiAgICAgICAgICAgIG1lZGlhLnByZWxvYWQgPSBvcHRpb25zX3ByZWxvYWQgPyBcImF1dG9cIiA6IFwibWV0YWRhdGFcIjtcclxuICAgICAgICAgICAgbWVkaWEuY29udHJvbHMgPSBwYXJzZV9vcHRpb24oXCJjb250cm9sc1wiLCB0cnVlKTtcclxuICAgICAgICAgICAgbWVkaWEuYXV0b3BsYXkgPSBvcHRpb25zW1wiYXV0b3BsYXlcIl07XHJcbiAgICAgICAgICAgIG1lZGlhLnBsYXlzaW5saW5lID0gcGFyc2Vfb3B0aW9uKFwiaW5saW5lXCIpO1xyXG4gICAgICAgICAgICBtZWRpYS5tdXRlZCA9IHBhcnNlX29wdGlvbihcIm11dGVkXCIpO1xyXG4gICAgICAgICAgICBtZWRpYS5zcmMgPSBnYWxsZXJ5LnNyYzsgLy9maWxlc1tpXS5zcmM7XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zdCBzb3VyY2UgPSBjcmVhdGVFbGVtZW50KFwic291cmNlXCIpO1xyXG4gICAgICAgICAgICAvLyBzb3VyY2UudHlwZSA9IFwidmlkZW8vXCIgKyBmaWxlc1tpXS50eXBlO1xyXG4gICAgICAgICAgICAvLyBzb3VyY2Uuc3JjID0gZmlsZXNbaV0uc3JjO1xyXG4gICAgICAgICAgICAvLyBtZWRpYS5hcHBlbmRDaGlsZChzb3VyY2UpO1xyXG5cclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQobWVkaWEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHR5cGUgPT09IFwibm9kZVwiKXtcclxuXHJcbiAgICAgICAgICAgIG1lZGlhID0gZ2FsbGVyeS5zcmM7XHJcblxyXG4gICAgICAgICAgICBpZih0eXBlb2YgbWVkaWEgPT09IFwic3RyaW5nXCIpe1xyXG5cclxuICAgICAgICAgICAgICAgIG1lZGlhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihtZWRpYSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG1lZGlhKXtcclxuXHJcbiAgICAgICAgICAgICAgICBtZWRpYS5fcm9vdCB8fCAobWVkaWEuX3Jvb3QgPSBtZWRpYS5wYXJlbnROb2RlKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZV9tZWRpYV92aWV3cG9ydCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKG1lZGlhKTtcclxuICAgICAgICAgICAgICAgIGluaXRfc2xpZGUoaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcblxyXG4gICAgICAgICAgICB0b2dnbGVfc3Bpbm5lcihvcHRpb25zX3NwaW5uZXIsIHRydWUpO1xyXG4gICAgICAgICAgICBtZWRpYSA9IC8qKiBAdHlwZSB7SFRNTFZpZGVvRWxlbWVudHxJbWFnZX0gKi8gKGNyZWF0ZUVsZW1lbnQoXCJpbWdcIikpO1xyXG5cclxuICAgICAgICAgICAgbWVkaWEub25sb2FkID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihtZWRpYSA9PT0gdGhpcyl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhLm9uZXJyb3IgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZV9zcGlubmVyKG9wdGlvbnNfc3Bpbm5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdF9zbGlkZShpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlX21lZGlhX3ZpZXdwb3J0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL21lZGlhLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcclxuICAgICAgICAgICAgbWVkaWEuc3JjID0gZ2FsbGVyeS5zcmM7XHJcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKG1lZGlhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKG1lZGlhKXtcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnNfc3Bpbm5lciB8fCBzZXRTdHlsZShtZWRpYSwgXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcclxuXHJcbiAgICAgICAgICAgIG1lZGlhLm9uZXJyb3IgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKG1lZGlhID09PSB0aGlzKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tvdXQobWVkaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHNwaW5uZXIsIFwiZXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlX3NwaW5uZXIob3B0aW9uc19zcGlubmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRpb25zX3NwaW5uZXJcclxuICogQHBhcmFtIHtib29sZWFuPX0gaXNfb25cclxuICovXHJcblxyXG5mdW5jdGlvbiB0b2dnbGVfc3Bpbm5lcihvcHRpb25zX3NwaW5uZXIsIGlzX29uKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwidG9nZ2xlX3NwaW5uZXJcIiwgb3B0aW9uc19zcGlubmVyLCBpc19vbik7XHJcblxyXG4gICAgb3B0aW9uc19zcGlubmVyICYmIHRvZ2dsZUNsYXNzKHNwaW5uZXIsIFwic3BpblwiLCBpc19vbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhc19mdWxsc2NyZWVuKCl7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZyhcImhhc19mdWxsc2NyZWVuXCIpO1xyXG5cclxuICAgIHJldHVybiAoXHJcblxyXG4gICAgICAgIGRvY3VtZW50W1wiZnVsbHNjcmVlblwiXSB8fFxyXG4gICAgICAgIGRvY3VtZW50W1wiZnVsbHNjcmVlbkVsZW1lbnRcIl0gfHxcclxuICAgICAgICBkb2N1bWVudFtcIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50XCJdIHx8XHJcbiAgICAgICAgZG9jdW1lbnRbXCJtb3pGdWxsU2NyZWVuRWxlbWVudFwiXVxyXG4gICAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzaXplX2xpc3RlbmVyKCl7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZyhcInJlc2l6ZV9saXN0ZW5lclwiKTtcclxuXHJcbiAgICB1cGRhdGVfd2lkZ2V0X3ZpZXdwb3J0KClcclxuICAgIG1lZGlhICYmIHVwZGF0ZV9tZWRpYV92aWV3cG9ydCgpO1xyXG5cclxuICAgIGlmKHByZWZpeF9yZXF1ZXN0KXtcclxuXHJcbiAgICAgICAgY29uc3QgaXNfZnVsbHNjcmVlbiA9IGhhc19mdWxsc2NyZWVuKCk7XHJcblxyXG4gICAgICAgIHRvZ2dsZUNsYXNzKG1heGltaXplLCBcIm9uXCIsIGlzX2Z1bGxzY3JlZW4pXHJcblxyXG4gICAgICAgIC8vIGhhbmRsZSB3aGVuIHVzZXIgdG9nZ2xlcyB0aGUgZnVsbHNjcmVlbiBzdGF0ZSBtYW51YWxseVxyXG4gICAgICAgIC8vIGVudGVyaW5nIHRoZSBmdWxsc2NyZWVuIHN0YXRlIG1hbnVhbGx5IG5lZWRzIHRvIGJlIGhpZGUgdGhlIGZ1bGxzY3JlZW4gaWNvbiwgYmVjYXVzZVxyXG4gICAgICAgIC8vIHRoZSBleGl0IGZ1bGxzY3JlZW4gaGFuZGxlciB3aWxsIG5vdCB3b3JrIGR1ZSB0byBhIGJyb3dzZXIgcmVzdHJpY3Rpb25cclxuXHJcbiAgICAgICAgaXNfZnVsbHNjcmVlbiB8fCBkZXRlY3RfZnVsbHNjcmVlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vdXBkYXRlX3Njcm9sbCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZXRlY3RfZnVsbHNjcmVlbigpe1xyXG5cclxuICAgIHRvZ2dsZURpc3BsYXkobWF4aW1pemUsIChzY3JlZW4uYXZhaWxIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQpID4gMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZV93aWRnZXRfdmlld3BvcnQoKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwidXBkYXRlX3dpZGdldF92aWV3cG9ydFwiKTtcclxuXHJcbiAgICB2aWV3cG9ydF93ID0gd2lkZ2V0LmNsaWVudFdpZHRoO1xyXG4gICAgdmlld3BvcnRfaCA9IHdpZGdldC5jbGllbnRIZWlnaHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZV9tZWRpYV92aWV3cG9ydCgpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJ1cGRhdGVfbWVkaWFfdmlld3BvcnRcIik7XHJcblxyXG4gICAgbWVkaWFfdyA9IG1lZGlhLmNsaWVudFdpZHRoO1xyXG4gICAgbWVkaWFfaCA9IG1lZGlhLmNsaWVudEhlaWdodDtcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gdXBkYXRlX21lZGlhX2RpbWVuc2lvbigpe1xyXG4vL1xyXG4vLyAgICAgbWVkaWFfdyA9IG1lZGlhLndpZHRoO1xyXG4vLyAgICAgbWVkaWFfaCA9IG1lZGlhLmhlaWdodDtcclxuLy8gfVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gZm9yY2Vfc2NhbGVcclxuICovXHJcblxyXG5mdW5jdGlvbiB1cGRhdGVfc2Nyb2xsKGZvcmNlX3NjYWxlKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwidXBkYXRlX3Njcm9sbFwiLCBmb3JjZV9zY2FsZSk7XHJcblxyXG4gICAgc2V0U3R5bGUobWVkaWEsIFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKFwiICsgKGZvcmNlX3NjYWxlIHx8IHNjYWxlKSArIFwiKVwiKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0geFxyXG4gKiBAcGFyYW0ge251bWJlcj19IHlcclxuICovXHJcblxyXG5mdW5jdGlvbiB1cGRhdGVfcGFuZWwoeCwgeSl7XHJcblxyXG4gICAgLy8vL2NvbnNvbGUubG9nKFwidXBkYXRlX3BhbmVsXCIsIHgsIHkpO1xyXG5cclxuICAgIHNldFN0eWxlKHBhbmVsLCBcInRyYW5zZm9ybVwiLCB4IHx8IHkgPyBcInRyYW5zbGF0ZShcIiArIHggKyBcInB4LCBcIiArIHkgKyBcInB4KVwiIDogXCJcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcclxuICogQHBhcmFtIHtib29sZWFuPX0gcHJlcGFyZVxyXG4gKiBAcGFyYW0ge251bWJlcj19IG9mZnNldFxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZV9zbGlkZXIoaW5kZXgsIHByZXBhcmUsIG9mZnNldCl7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZyhcInVwZGF0ZV9zbGlkZXJcIiwgcHJlcGFyZSwgb2Zmc2V0KTtcclxuXHJcbiAgICBpZihwcmVwYXJlKXtcclxuXHJcbiAgICAgICAgcHJlcGFyZVN0eWxlKHNsaWRlciwgZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIHVwZGF0ZV9zbGlkZXIoaW5kZXgsIGZhbHNlLCBvZmZzZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuXHJcbiAgICAgICAgc2V0U3R5bGUoc2xpZGVyLCBcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVgoXCIgKyAoLWluZGV4ICogMTAwICsgKG9mZnNldCB8fCAwKSkgKyBcIiUpXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtib29sZWFuPX0gaW5zdGFsbFxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZV9saXN0ZW5lcihpbnN0YWxsKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwidG9nZ2xlX2xpc3RlbmVyXCIsIGluc3RhbGwpO1xyXG5cclxuICAgIHRvZ2dsZUxpc3RlbmVyKGluc3RhbGwsIHdpbmRvdywgXCJrZXlkb3duXCIsIGtleV9saXN0ZW5lcik7XHJcbiAgICB0b2dnbGVMaXN0ZW5lcihpbnN0YWxsLCB3aW5kb3csIFwid2hlZWxcIiwgd2hlZWxfbGlzdGVuZXIpO1xyXG4gICAgdG9nZ2xlTGlzdGVuZXIoaW5zdGFsbCwgd2luZG93LCBcInJlc2l6ZVwiLCByZXNpemVfbGlzdGVuZXIpO1xyXG4gICAgdG9nZ2xlTGlzdGVuZXIoaW5zdGFsbCwgd2luZG93LCBcInBvcHN0YXRlXCIsIGhpc3RvcnlfbGlzdGVuZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoaXN0b3J5X2xpc3RlbmVyKGV2ZW50KSB7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZyhcImhpc3RvcnlfbGlzdGVuZXJcIik7XHJcblxyXG4gICAgaWYocGFuZWwgJiYgLypldmVudC5zdGF0ZSAmJiovIGV2ZW50LnN0YXRlW1wic3BsXCJdKSB7XHJcblxyXG4gICAgICAgIGNsb3NlKHRydWUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBrZXlfbGlzdGVuZXIoZXZlbnQpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJrZXlfbGlzdGVuZXJcIik7XHJcblxyXG4gICAgaWYocGFuZWwpe1xyXG5cclxuICAgICAgICBjb25zdCB6b29tX2VuYWJsZWQgPSBvcHRpb25zW1wiem9vbS1pblwiXSAhPT0gZmFsc2U7XHJcblxyXG4gICAgICAgIHN3aXRjaChldmVudC5rZXlDb2RlKXtcclxuXHJcbiAgICAgICAgICAgIGNhc2Uga2V5Y29kZXMuQkFDS1NQQUNFOlxyXG4gICAgICAgICAgICAgICAgem9vbV9lbmFibGVkICYmIGF1dG9maXQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBrZXljb2Rlcy5FU0NBUEU6XHJcbiAgICAgICAgICAgICAgICBjbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGtleWNvZGVzLlNQQUNFQkFSOlxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc19hdXRvc2xpZGUgJiYgcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGtleWNvZGVzLkxFRlQ6XHJcbiAgICAgICAgICAgICAgICBwcmV2KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2Uga2V5Y29kZXMuUklHSFQ6XHJcbiAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2Uga2V5Y29kZXMuVVA6XHJcbiAgICAgICAgICAgIGNhc2Uga2V5Y29kZXMuTlVNQkxPQ0tfUExVUzpcclxuICAgICAgICAgICAgY2FzZSBrZXljb2Rlcy5QTFVTOlxyXG4gICAgICAgICAgICAgICAgem9vbV9lbmFibGVkICYmIHpvb21faW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBrZXljb2Rlcy5ET1dOOlxyXG4gICAgICAgICAgICBjYXNlIGtleWNvZGVzLk5VTUJMT0NLX01JTlVTOlxyXG4gICAgICAgICAgICBjYXNlIGtleWNvZGVzLk1JTlVTOlxyXG4gICAgICAgICAgICAgICAgem9vbV9lbmFibGVkICYmIHpvb21fb3V0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdoZWVsX2xpc3RlbmVyKGV2ZW50KXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwid2hlZWxfbGlzdGVuZXJcIik7XHJcblxyXG4gICAgaWYocGFuZWwgJiYgKG9wdGlvbnNbXCJ6b29tLWluXCJdICE9PSBmYWxzZSkpe1xyXG5cclxuICAgICAgICBsZXQgZGVsdGEgPSBldmVudFtcImRlbHRhWVwiXTtcclxuICAgICAgICBkZWx0YSA9IChkZWx0YSA8IDAgPyAxIDogZGVsdGEgPyAtMSA6IDApICogMC41O1xyXG5cclxuICAgICAgICBpZihkZWx0YSA8IDApe1xyXG5cclxuICAgICAgICAgICAgem9vbV9vdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuXHJcbiAgICAgICAgICAgIHpvb21faW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0V2ZW50fGJvb2xlYW49fSBpbml0XHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IF9za2lwX2FuaW1hdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwbGF5KGluaXQsIF9za2lwX2FuaW1hdGlvbil7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZyhcInBsYXlcIiwgaW5pdCk7XHJcblxyXG4gICAgY29uc3Qgc3RhdGUgPSAodHlwZW9mIGluaXQgPT09IFwiYm9vbGVhblwiID8gaW5pdCA6ICFwbGF5aW5nKTtcclxuXHJcbiAgICBpZihzdGF0ZSA9PT0gIXBsYXlpbmcpe1xyXG5cclxuICAgICAgICBwbGF5aW5nID0gcGxheWluZyA/IGNsZWFyVGltZW91dChwbGF5aW5nKSA6IDE7XHJcbiAgICAgICAgdG9nZ2xlQ2xhc3MocGxheWVyLCBcIm9uXCIsIHBsYXlpbmcpO1xyXG4gICAgICAgIF9za2lwX2FuaW1hdGlvbiB8fCBhbmltYXRlX2JhcihwbGF5aW5nKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Pz19IHN0YXJ0XHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gYW5pbWF0ZV9iYXIoc3RhcnQpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJhbmltYXRlX2JhclwiLCBzdGFydCk7XHJcblxyXG4gICAgaWYob3B0aW9uc19wcm9ncmVzcyl7XHJcblxyXG4gICAgICAgIHByZXBhcmVTdHlsZShwcm9ncmVzcywgZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIHNldFN0eWxlKHByb2dyZXNzLCBcInRyYW5zaXRpb24tZHVyYXRpb25cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHNldFN0eWxlKHByb2dyZXNzLCBcInRyYW5zZm9ybVwiLCBcIlwiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYoc3RhcnQpe1xyXG5cclxuICAgICAgICAgICAgc2V0U3R5bGUocHJvZ3Jlc3MsIFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBkZWxheSArIFwic1wiKTtcclxuICAgICAgICAgICAgc2V0U3R5bGUocHJvZ3Jlc3MsIFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlWCgwKVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYoc3RhcnQpe1xyXG5cclxuICAgICAgICBwbGF5aW5nID0gc2V0VGltZW91dChuZXh0LCBkZWxheSAqIDEwMDApO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhdXRvaGlkZSgpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJhdXRvaGlkZVwiKTtcclxuXHJcbiAgICBpZihvcHRpb25zX2F1dG9oaWRlKSB7XHJcblxyXG4gICAgICAgIGhpZGVfY29vbGRvd24gPSBEYXRlLm5vdygpICsgMjk1MDtcclxuXHJcbiAgICAgICAgaWYoIWhpZGUpe1xyXG5cclxuICAgICAgICAgICAgYWRkQ2xhc3Mod2lkZ2V0LCBcIm1lbnVcIik7XHJcbiAgICAgICAgICAgIHNjaGVkdWxlKDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2NoZWR1bGUoY29vbGRvd24pe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJzY2hlZHVsZVwiLCBjb29sZG93bik7XHJcblxyXG4gICAgaGlkZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgaWYobm93ID49IGhpZGVfY29vbGRvd24pe1xyXG5cclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3Mod2lkZ2V0LCBcIm1lbnVcIik7XHJcbiAgICAgICAgICAgIGhpZGUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG5cclxuICAgICAgICAgICAgc2NoZWR1bGUoaGlkZV9jb29sZG93biAtIG5vdyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sIGNvb2xkb3duKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHN0YXRlXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lbnUoc3RhdGUpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJtZW51XCIpO1xyXG5cclxuICAgIGlmKHR5cGVvZiBzdGF0ZSA9PT0gXCJib29sZWFuXCIpe1xyXG5cclxuICAgICAgICBoaWRlID0gc3RhdGUgPyBoaWRlIDogMDtcclxuICAgIH1cclxuXHJcbiAgICBpZihoaWRlKXtcclxuXHJcbiAgICAgICAgaGlkZSA9IGNsZWFyVGltZW91dChoaWRlKTtcclxuICAgICAgICByZW1vdmVDbGFzcyh3aWRnZXQsIFwibWVudVwiKTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcblxyXG4gICAgICAgIGF1dG9oaWRlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0YXJ0KGUpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJzdGFydFwiKTtcclxuXHJcbiAgICBjYW5jZWxFdmVudChlLCB0cnVlKTtcclxuXHJcbiAgICBpc19kb3duID0gdHJ1ZTtcclxuICAgIGRyYWdnZWQgPSBmYWxzZTtcclxuXHJcbiAgICBsZXQgdG91Y2hlcyA9IGUudG91Y2hlcztcclxuXHJcbiAgICBpZih0b3VjaGVzICYmICh0b3VjaGVzID0gdG91Y2hlc1swXSkpe1xyXG5cclxuICAgICAgICBlID0gdG91Y2hlcztcclxuICAgIH1cclxuXHJcbiAgICBzbGlkYWJsZSA9IC8qICF0b2dnbGVfYXV0b2ZpdCAmJiAqLyAobWVkaWFfdyAqIHNjYWxlKSA8PSB2aWV3cG9ydF93O1xyXG4gICAgc3RhcnRYID0gZS5wYWdlWDtcclxuICAgIHN0YXJ0WSA9IGUucGFnZVk7XHJcblxyXG4gICAgdG9nZ2xlQW5pbWF0aW9uKHBhbmVsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW5kKGUpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJlbmRcIik7XHJcblxyXG4gICAgY2FuY2VsRXZlbnQoZSk7XHJcblxyXG4gICAgaWYoaXNfZG93bil7XHJcblxyXG4gICAgICAgIGlmKCFkcmFnZ2VkKXtcclxuXHJcbiAgICAgICAgICAgIG1lbnUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuXHJcbiAgICAgICAgICAgIGlmKHNsaWRhYmxlICYmIGRyYWdnZWQpe1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc19uZXh0ID0gKHggPCAtKHZpZXdwb3J0X3cgLyA3KSkgJiYgKChjdXJyZW50X3NsaWRlIDwgc2xpZGVfY291bnQpIHx8IG9wdGlvbnNfaW5maW5pdGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzX3ByZXYgPSBoYXNfbmV4dCB8fCAoeCA+ICh2aWV3cG9ydF93IC8gNykpICYmICgoY3VycmVudF9zbGlkZSA+IDEpIHx8IG9wdGlvbnNfaW5maW5pdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGhhc19uZXh0IHx8IGhhc19wcmV2KXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlX3NsaWRlcihjdXJyZW50X3NsaWRlIC0gMSwgLyogcHJlcGFyZT8gKi8gdHJ1ZSwgeCAvIHZpZXdwb3J0X3cgKiAxMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAoaGFzX25leHQgJiYgbmV4dCgpKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChoYXNfcHJldiAmJiBwcmV2KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHVwZGF0ZV9wYW5lbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0b2dnbGVBbmltYXRpb24ocGFuZWwsIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXNfZG93biA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBtb3ZlKGUpe1xyXG5cclxuICAgIC8vLy9jb25zb2xlLmxvZyhcIm1vdmVcIik7XHJcblxyXG4gICAgY2FuY2VsRXZlbnQoZSk7XHJcblxyXG4gICAgaWYoaXNfZG93bil7XHJcblxyXG4gICAgICAgIGxldCB0b3VjaGVzID0gZS50b3VjaGVzO1xyXG5cclxuICAgICAgICBpZih0b3VjaGVzICYmICh0b3VjaGVzID0gdG91Y2hlc1swXSkpe1xyXG5cclxuICAgICAgICAgICAgZSA9IHRvdWNoZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBoYW5kbGUgeC1heGlzIGluIHNsaWRlIG1vZGUgYW5kIGluIGRyYWcgbW9kZVxyXG5cclxuICAgICAgICBsZXQgZGlmZiA9IChtZWRpYV93ICogc2NhbGUgLSB2aWV3cG9ydF93KSAvIDI7XHJcbiAgICAgICAgeCAtPSBzdGFydFggLSAoc3RhcnRYID0gZS5wYWdlWCk7XHJcblxyXG4gICAgICAgIGlmKCFzbGlkYWJsZSl7XHJcblxyXG4gICAgICAgICAgICBpZih4ID4gZGlmZil7XHJcblxyXG4gICAgICAgICAgICAgICAgeCA9IGRpZmY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih4IDwgLWRpZmYpe1xyXG5cclxuICAgICAgICAgICAgICAgIHggPSAtZGlmZlxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBoYW5kbGUgeS1heGlzIGluIGRyYWcgbW9kZVxyXG5cclxuICAgICAgICAgICAgaWYoKG1lZGlhX2ggKiBzY2FsZSkgPiB2aWV3cG9ydF9oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBkaWZmID0gKG1lZGlhX2ggKiBzY2FsZSAtIHZpZXdwb3J0X2gpIC8gMjtcclxuICAgICAgICAgICAgICAgIHkgLT0gc3RhcnRZIC0gKHN0YXJ0WSA9IGUucGFnZVkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHkgPiBkaWZmKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IGRpZmY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKHkgPCAtZGlmZil7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHkgPSAtZGlmZjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZHJhZ2dlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIHVwZGF0ZV9wYW5lbCh4LCB5KTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcblxyXG4gICAgICAgIGF1dG9oaWRlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0V2ZW50fGJvb2xlYW49fSBpbml0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZ1bGxzY3JlZW4oaW5pdCl7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZyhcImZ1bGxzY3JlZW5cIiwgaW5pdCk7XHJcblxyXG4gICAgY29uc3QgaXNfZnVsbHNjcmVlbiA9IGhhc19mdWxsc2NyZWVuKCk7XHJcblxyXG4gICAgaWYoKHR5cGVvZiBpbml0ICE9PSBcImJvb2xlYW5cIikgfHwgKGluaXQgIT09ICEhaXNfZnVsbHNjcmVlbikpe1xyXG5cclxuICAgICAgICBpZihpc19mdWxsc2NyZWVuKXtcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50W3ByZWZpeF9leGl0XSgpO1xyXG4gICAgICAgICAgICAvL3JlbW92ZUNsYXNzKG1heGltaXplLCBcIm9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG5cclxuICAgICAgICAgICAgd2lkZ2V0W3ByZWZpeF9yZXF1ZXN0XSgpO1xyXG4gICAgICAgICAgICAvL2FkZENsYXNzKG1heGltaXplLCBcIm9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7RXZlbnR8c3RyaW5nPX0gdGhlbWVcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdGhlbWUodGhlbWUpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJ0aGVtZVwiLCB0aGVtZSk7XHJcblxyXG4gICAgaWYodHlwZW9mIHRoZW1lICE9PSBcInN0cmluZ1wiKXtcclxuXHJcbiAgICAgICAgLy8gdG9nZ2xlOlxyXG5cclxuICAgICAgICB0aGVtZSA9IHRvZ2dsZV90aGVtZSA/IFwiXCIgOiBvcHRpb25zX3RoZW1lIHx8IFwid2hpdGVcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZih0b2dnbGVfdGhlbWUgIT09IHRoZW1lKXtcclxuXHJcbiAgICAgICAgLy8gc2V0OlxyXG5cclxuICAgICAgICB0b2dnbGVfdGhlbWUgJiYgcmVtb3ZlQ2xhc3Mod2lkZ2V0LCB0b2dnbGVfdGhlbWUpO1xyXG4gICAgICAgIHRoZW1lICYmIGFkZENsYXNzKHdpZGdldCwgdGhlbWUpO1xyXG4gICAgICAgIHRvZ2dsZV90aGVtZSA9IHRoZW1lO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtFdmVudHxib29sZWFuPX0gaW5pdFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdXRvZml0KGluaXQpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJhdXRvZml0XCIsIGluaXQpO1xyXG5cclxuICAgIGlmKHR5cGVvZiBpbml0ID09PSBcImJvb2xlYW5cIil7XHJcblxyXG4gICAgICAgIHRvZ2dsZV9hdXRvZml0ID0gIWluaXQ7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlX2F1dG9maXQgPSAoc2NhbGUgPT09IDEpICYmICF0b2dnbGVfYXV0b2ZpdDtcclxuXHJcbiAgICB0b2dnbGVDbGFzcyhtZWRpYSwgXCJhdXRvZml0XCIsIHRvZ2dsZV9hdXRvZml0KTtcclxuICAgIHNldFN0eWxlKG1lZGlhLCBcInRyYW5zZm9ybVwiLCBcIlwiKTtcclxuXHJcbiAgICBzY2FsZSA9IDE7XHJcbiAgICB4ID0gMDtcclxuICAgIHkgPSAwO1xyXG5cclxuICAgIHVwZGF0ZV9tZWRpYV92aWV3cG9ydCgpO1xyXG4gICAgdG9nZ2xlQW5pbWF0aW9uKHBhbmVsKTtcclxuICAgIHVwZGF0ZV9wYW5lbCgpO1xyXG4gICAgLy9hdXRvaGlkZSgpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtFdmVudD19IGVcclxuICovXHJcblxyXG5mdW5jdGlvbiB6b29tX2luKGUpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJ6b29tX2luXCIpO1xyXG5cclxuICAgIGxldCB2YWx1ZSA9IHNjYWxlIC8gMC42NTtcclxuXHJcbiAgICBpZih2YWx1ZSA8PSA1MCl7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2codG9nZ2xlX2F1dG9maXQpO1xyXG5cclxuICAgICAgICBkaXNhYmxlX2F1dG9yZXNpemVyKCk7XHJcblxyXG4gICAgICAgIC8vIGlmKG9wdGlvbnNfZml0KXtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vICAgICByZW1vdmVDbGFzcyhtZWRpYSwgb3B0aW9uc19maXQpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgeCAvPSAwLjY1O1xyXG4gICAgICAgIHkgLz0gMC42NTtcclxuXHJcbiAgICAgICAgdXBkYXRlX3BhbmVsKHgsIHkpO1xyXG4gICAgICAgIHpvb20odmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZSAmJiBhdXRvaGlkZSgpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtFdmVudD19IGVcclxuICovXHJcblxyXG5mdW5jdGlvbiB6b29tX291dChlKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiem9vbV9vdXRcIik7XHJcblxyXG4gICAgbGV0IHZhbHVlID0gc2NhbGUgKiAwLjY1O1xyXG5cclxuICAgIGRpc2FibGVfYXV0b3Jlc2l6ZXIoKTtcclxuXHJcbiAgICBpZih2YWx1ZSA+PSAxKXtcclxuXHJcbiAgICAgICAgaWYodmFsdWUgPT09IDEpe1xyXG5cclxuICAgICAgICAgICAgeCA9IHkgPSAwO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYob3B0aW9uc19maXQpe1xyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyAgICAgYWRkQ2xhc3MobWVkaWEsIG9wdGlvbnNfZml0KTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG5cclxuICAgICAgICAgICAgeCAqPSAwLjY1O1xyXG4gICAgICAgICAgICB5ICo9IDAuNjU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1cGRhdGVfcGFuZWwoeCwgeSk7XHJcbiAgICAgICAgem9vbSh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9lICYmIGF1dG9oaWRlKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcj19IGZhY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB6b29tKGZhY3Rvcil7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZyhcInpvb21cIiwgZmFjdG9yKTtcclxuXHJcbiAgICBzY2FsZSA9IGZhY3RvciB8fCAxO1xyXG5cclxuICAgIHVwZGF0ZV9zY3JvbGwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzYWJsZV9hdXRvcmVzaXplcigpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJkaXNhYmxlX2F1dG9yZXNpemVyXCIpO1xyXG5cclxuICAgIC8vdXBkYXRlX21lZGlhX2RpbWVuc2lvbigpO1xyXG5cclxuICAgIGlmKHRvZ2dsZV9hdXRvZml0KXtcclxuXHJcbiAgICAgICAgLy8gcmVtb3ZlQ2xhc3MobWVkaWEsIFwiYXV0b2ZpdFwiKTtcclxuICAgICAgICAvLyB0b2dnbGVfYXV0b2ZpdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBhdXRvZml0KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dfZ2FsbGVyeSgpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJzaG93X2dhbGxlcnlcIik7XHJcblxyXG4gICAgaGlzdG9yeS5wdXNoU3RhdGUoeyBcInNwbFwiOiAxIH0sIFwiXCIpO1xyXG4gICAgaGlzdG9yeS5wdXNoU3RhdGUoeyBcInNwbFwiOiAyIH0sIFwiXCIpO1xyXG5cclxuICAgIHRvZ2dsZUFuaW1hdGlvbih3aWRnZXQsIHRydWUpO1xyXG4gICAgYWRkQ2xhc3MoYm9keSwgXCJoaWRlLXNjcm9sbGJhcnNcIik7XHJcbiAgICBhZGRDbGFzcyh3aWRnZXQsIFwic2hvd1wiKTtcclxuXHJcbiAgICB0b2dnbGVfbGlzdGVuZXIodHJ1ZSk7XHJcbiAgICB1cGRhdGVfd2lkZ2V0X3ZpZXdwb3J0KCk7XHJcbiAgICAvL3Jlc2l6ZV9saXN0ZW5lcigpO1xyXG4gICAgYXV0b2hpZGUoKTtcclxuXHJcbiAgICBvcHRpb25zX2F1dG9zbGlkZSAmJiBwbGF5KHRydWUsIHRydWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWQoKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiZG93bmxvYWRcIiwgbWVkaWEpO1xyXG5cclxuICAgIGRvd25sb2FkSW1hZ2UoYm9keSwgbWVkaWEpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtib29sZWFuPX0gaGFzaGNoYW5nZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9zZShoYXNoY2hhbmdlKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiY2xvc2VcIiwgaGFzaGNoYW5nZSk7XHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICBib2R5LnJlbW92ZUNoaWxkKHdpZGdldCk7XHJcbiAgICAgICAgcGFuZWwgPSBtZWRpYSA9IGdhbGxlcnkgPSBvcHRpb25zID0gb3B0aW9uc19ncm91cCA9IGFuY2hvcnMgPSBvcHRpb25zX29uc2hvdyA9IG9wdGlvbnNfb25jaGFuZ2UgPSBvcHRpb25zX29uY2xvc2UgPSBvcHRpb25zX2NsaWNrID0gbnVsbDtcclxuXHJcbiAgICB9LCAyMDApO1xyXG5cclxuICAgIHJlbW92ZUNsYXNzKGJvZHksIFwiaGlkZS1zY3JvbGxiYXJzXCIpO1xyXG4gICAgcmVtb3ZlQ2xhc3Mod2lkZ2V0LCBcInNob3dcIik7XHJcblxyXG4gICAgZnVsbHNjcmVlbihmYWxzZSk7XHJcbiAgICB0b2dnbGVfbGlzdGVuZXIoKTtcclxuXHJcbiAgICBoaXN0b3J5LmdvKGhhc2hjaGFuZ2UgPT09IHRydWUgPyAtMSA6IC0yKTtcclxuXHJcbiAgICAvLyB0ZWFyZG93blxyXG5cclxuICAgIGdhbGxlcnlfbmV4dCAmJiAobWVkaWFfbmV4dC5zcmMgPSBcIlwiKTtcclxuICAgIHBsYXlpbmcgJiYgcGxheSgpO1xyXG4gICAgbWVkaWEgJiYgY2hlY2tvdXQobWVkaWEpO1xyXG4gICAgaGlkZSAmJiAoaGlkZSA9IGNsZWFyVGltZW91dChoaWRlKSk7XHJcbiAgICB0b2dnbGVfdGhlbWUgJiYgdGhlbWUoKTtcclxuICAgIG9wdGlvbnNfY2xhc3MgJiYgcmVtb3ZlQ2xhc3Mod2lkZ2V0LCBvcHRpb25zX2NsYXNzKTtcclxuICAgIG9wdGlvbnNfb25jbG9zZSAmJiBvcHRpb25zX29uY2xvc2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tvdXQobWVkaWEpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJjaGVja291dFwiKTtcclxuXHJcbiAgICBpZihtZWRpYS5fcm9vdCl7XHJcblxyXG4gICAgICAgIG1lZGlhLl9yb290LmFwcGVuZENoaWxkKG1lZGlhKTtcclxuICAgICAgICBtZWRpYS5fcm9vdCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG5cclxuICAgICAgICBjb25zdCBwYXJlbnQgPSBtZWRpYS5wYXJlbnROb2RlO1xyXG4gICAgICAgIHBhcmVudCAmJiBwYXJlbnQucmVtb3ZlQ2hpbGQobWVkaWEpO1xyXG4gICAgICAgIG1lZGlhID0gbWVkaWEuc3JjID0gbWVkaWEub25lcnJvciA9IFwiXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0V2ZW50PX0gZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcmV2KGUpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJwcmV2XCIpO1xyXG5cclxuICAgIGUgJiYgYXV0b2hpZGUoKTtcclxuXHJcbiAgICBpZihzbGlkZV9jb3VudCA+IDEpe1xyXG5cclxuICAgICAgICBpZihjdXJyZW50X3NsaWRlID4gMSl7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZ290byhjdXJyZW50X3NsaWRlIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYob3B0aW9uc19pbmZpbml0ZSl7XHJcblxyXG4gICAgICAgICAgICB1cGRhdGVfc2xpZGVyKHNsaWRlX2NvdW50LCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBnb3RvKHNsaWRlX2NvdW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0V2ZW50PX0gZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBuZXh0KGUpe1xyXG5cclxuICAgIC8vY29uc29sZS5sb2coXCJuZXh0XCIpO1xyXG5cclxuICAgIGUgJiYgYXV0b2hpZGUoKTtcclxuXHJcbiAgICBpZihzbGlkZV9jb3VudCA+IDEpe1xyXG5cclxuICAgICAgICBpZihjdXJyZW50X3NsaWRlIDwgc2xpZGVfY291bnQpe1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGdvdG8oY3VycmVudF9zbGlkZSArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKG9wdGlvbnNfaW5maW5pdGUpe1xyXG5cclxuICAgICAgICAgICAgdXBkYXRlX3NsaWRlcigtMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZ290bygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihwbGF5aW5nKXtcclxuXHJcbiAgICAgICAgICAgIHBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnb3RvKHNsaWRlKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiZ290b1wiLCBzbGlkZSk7XHJcblxyXG4gICAgaWYoc2xpZGUgIT09IGN1cnJlbnRfc2xpZGUpe1xyXG5cclxuICAgICAgICBpZihwbGF5aW5nKXtcclxuXHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChwbGF5aW5nKTtcclxuICAgICAgICAgICAgYW5pbWF0ZV9iYXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuXHJcbiAgICAgICAgICAgIGF1dG9oaWRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3BsYXlpbmcgPyBhbmltYXRlX2JhcigpIDogYXV0b2hpZGUoKTtcclxuXHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gc2xpZGUgPiBjdXJyZW50X3NsaWRlO1xyXG5cclxuICAgICAgICBjdXJyZW50X3NsaWRlID0gc2xpZGU7XHJcbiAgICAgICAgc2V0dXBfcGFnZShkaXJlY3Rpb24pO1xyXG4gICAgICAgIC8vb3B0aW9uc19hdXRvc2xpZGUgJiYgcGxheSh0cnVlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZXBhcmUoZGlyZWN0aW9uKXtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKFwicHJlcGFyZVwiLCBkaXJlY3Rpb24pO1xyXG5cclxuICAgIGxldCBhbmNob3IgPSBhbmNob3JzW2N1cnJlbnRfc2xpZGUgLSAxXTtcclxuXHJcbiAgICBhcHBseV9vcHRpb25zKGFuY2hvcik7XHJcblxyXG4gICAgY29uc3Qgc3BlZWQgPSBjb25uZWN0aW9uICYmIGNvbm5lY3Rpb25bXCJkb3dubGlua1wiXTtcclxuICAgIGxldCBzaXplID0gTWF0aC5tYXgodmlld3BvcnRfaCwgdmlld3BvcnRfdykgKiBkcHI7XHJcblxyXG4gICAgaWYoc3BlZWQgJiYgKChzcGVlZCAqIDEyMDApIDwgc2l6ZSkpe1xyXG5cclxuICAgICAgICBzaXplID0gc3BlZWQgKiAxMjAwO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0bXA7XHJcblxyXG4gICAgZ2FsbGVyeSA9IHtcclxuXHJcbiAgICAgICAgbWVkaWE6IG9wdGlvbnNfbWVkaWEsXHJcbiAgICAgICAgc3JjOiBwYXJzZV9zcmMoYW5jaG9yLCBzaXplLCBvcHRpb25zLCBvcHRpb25zX21lZGlhKSxcclxuICAgICAgICB0aXRsZTogcGFyc2Vfb3B0aW9uKFwidGl0bGVcIixcclxuICAgICAgICAgICAgYW5jaG9yW1wiYWx0XCJdIHx8IGFuY2hvcltcInRpdGxlXCJdIHx8XHJcbiAgICAgICAgICAgIC8vIGluaGVyaXQgdGl0bGUgZnJvbSBhIGRpcmVjdCBjaGlsZCBvbmx5XHJcbiAgICAgICAgICAgICgodG1wID0gYW5jaG9yLmZpcnN0RWxlbWVudENoaWxkKSAmJiAodG1wW1wiYWx0XCJdIHx8IHRtcFtcInRpdGxlXCJdKSlcclxuICAgICAgICApXHJcbiAgICB9O1xyXG5cclxuICAgIGdhbGxlcnlfbmV4dCAmJiAobWVkaWFfbmV4dC5zcmMgPSBnYWxsZXJ5X25leHQgPSBcIlwiKTtcclxuXHJcbiAgICBpZihvcHRpb25zX3ByZWxvYWQgJiYgZGlyZWN0aW9uKXtcclxuXHJcbiAgICAgICAgaWYoKGFuY2hvciA9IGFuY2hvcnNbY3VycmVudF9zbGlkZV0pKXtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnNfbmV4dCA9IGFuY2hvci5kYXRhc2V0IHx8IGFuY2hvcjtcclxuICAgICAgICAgICAgY29uc3QgbmV4dF9tZWRpYSA9IG9wdGlvbnNfbmV4dFtcIm1lZGlhXCJdO1xyXG5cclxuICAgICAgICAgICAgaWYoIW5leHRfbWVkaWEgfHwgKG5leHRfbWVkaWEgPT09IFwiaW1hZ2VcIikpe1xyXG5cclxuICAgICAgICAgICAgICAgIGdhbGxlcnlfbmV4dCA9IHBhcnNlX3NyYyhhbmNob3IsIHNpemUsIG9wdGlvbnNfbmV4dCwgbmV4dF9tZWRpYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYXBwbHkgY29udHJvbHNcclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgY29udHJvbHMubGVuZ3RoOyBpKyspe1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb24gPSBjb250cm9sc1tpXTtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhvcHRpb24gKyBcIjogXCIsIG9wdGlvbnNbb3B0aW9uXSk7XHJcblxyXG4gICAgICAgIHRvZ2dsZURpc3BsYXkoY29udHJvbHNfZG9tW29wdGlvbl0sIHBhcnNlX29wdGlvbihvcHRpb24sIGNvbnRyb2xzX2RlZmF1bHRbb3B0aW9uXSkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cF9wYWdlKGRpcmVjdGlvbil7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZyhcInNldHVwX3BhZ2VcIiwgZGlyZWN0aW9uKTtcclxuXHJcbiAgICB4ID0gMDtcclxuICAgIHkgPSAwO1xyXG4gICAgc2NhbGUgPSAxO1xyXG5cclxuICAgIGlmKG1lZGlhKXtcclxuXHJcbiAgICAgICAgLy8gTm90ZTogdGhlIG9uZXJyb3IgY2FsbGJhY2sgd2FzIHJlbW92ZWQgd2hlbiB0aGUgaW1hZ2Ugd2FzIGZ1bGx5IGxvYWRlZCAoYWxzbyBmb3IgdmlkZW8pXHJcblxyXG4gICAgICAgIGlmKG1lZGlhLm9uZXJyb3Ipe1xyXG5cclxuICAgICAgICAgICAgY2hlY2tvdXQobWVkaWEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlZiA9IG1lZGlhO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHJlZiAmJiAobWVkaWEgIT09IHJlZikpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjaGVja291dChyZWYpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LCA2NTApO1xyXG5cclxuICAgICAgICAgICAgLy8gYW5pbWF0ZSBvdXQgdGhlIG9sZCBpbWFnZVxyXG5cclxuICAgICAgICAgICAgcHJlcGFyZV9hbmltYXRpb24oKTtcclxuICAgICAgICAgICAgdXBkYXRlX3BhbmVsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByZXBhcmUoZGlyZWN0aW9uKTtcclxuICAgIHVwZGF0ZV9zbGlkZXIoY3VycmVudF9zbGlkZSAtIDEpO1xyXG4gICAgcmVtb3ZlQ2xhc3Moc3Bpbm5lciwgXCJlcnJvclwiKTtcclxuICAgIGluaXRfc2xpZGUoY3VycmVudF9zbGlkZSk7XHJcbiAgICB0b2dnbGVBbmltYXRpb24ocGFuZWwpO1xyXG4gICAgdXBkYXRlX3BhbmVsKCk7XHJcblxyXG4gICAgY29uc3Qgc3RyX3RpdGxlID0gZ2FsbGVyeS50aXRsZTtcclxuICAgIGNvbnN0IHN0cl9kZXNjcmlwdGlvbiA9IHBhcnNlX29wdGlvbihcImRlc2NyaXB0aW9uXCIpO1xyXG4gICAgY29uc3Qgc3RyX2J1dHRvbiA9IHBhcnNlX29wdGlvbihcImJ1dHRvblwiKTtcclxuICAgIGNvbnN0IGhhc19jb250ZW50ID0gc3RyX3RpdGxlIHx8IHN0cl9kZXNjcmlwdGlvbiB8fCBzdHJfYnV0dG9uO1xyXG5cclxuICAgIGlmKGhhc19jb250ZW50KXtcclxuXHJcbiAgICAgICAgc3RyX3RpdGxlICYmIHNldFRleHQodGl0bGUsIHN0cl90aXRsZSk7XHJcbiAgICAgICAgc3RyX2Rlc2NyaXB0aW9uICYmIHNldFRleHQoZGVzY3JpcHRpb24sIHN0cl9kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgc3RyX2J1dHRvbiAmJiBzZXRUZXh0KGJ1dHRvbiwgc3RyX2J1dHRvbik7XHJcblxyXG4gICAgICAgIHRvZ2dsZURpc3BsYXkodGl0bGUsIHN0cl90aXRsZSk7XHJcbiAgICAgICAgdG9nZ2xlRGlzcGxheShkZXNjcmlwdGlvbiwgc3RyX2Rlc2NyaXB0aW9uKTtcclxuICAgICAgICB0b2dnbGVEaXNwbGF5KGJ1dHRvbiwgc3RyX2J1dHRvbik7XHJcblxyXG4gICAgICAgIHNldFN0eWxlKGZvb3RlciwgXCJ0cmFuc2Zvcm1cIiwgb3B0aW9uc19hdXRvaGlkZSA9PT0gXCJhbGxcIiA/IFwiXCIgOiBcIm5vbmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgb3B0aW9uc19hdXRvaGlkZSB8fCBhZGRDbGFzcyh3aWRnZXQsIFwibWVudVwiKTtcclxuXHJcbiAgICB0b2dnbGVWaXNpYmlsaXR5KGZvb3RlciwgaGFzX2NvbnRlbnQpO1xyXG4gICAgdG9nZ2xlVmlzaWJpbGl0eShwYWdlX3ByZXYsIG9wdGlvbnNfaW5maW5pdGUgfHwgKGN1cnJlbnRfc2xpZGUgPiAxKSk7XHJcbiAgICB0b2dnbGVWaXNpYmlsaXR5KHBhZ2VfbmV4dCwgb3B0aW9uc19pbmZpbml0ZSB8fCAoY3VycmVudF9zbGlkZSA8IHNsaWRlX2NvdW50KSk7XHJcbiAgICBzZXRUZXh0KHBhZ2UsIHNsaWRlX2NvdW50ID4gMSA/IGN1cnJlbnRfc2xpZGUgKyBcIiAvIFwiICsgc2xpZGVfY291bnQgOiBcIlwiKTtcclxuXHJcbiAgICBvcHRpb25zX29uY2hhbmdlICYmIG9wdGlvbnNfb25jaGFuZ2UoY3VycmVudF9zbGlkZSwgb3B0aW9ucyk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHJcbiAgICBpbml0OiBpbml0LFxyXG4gICAgdGhlbWU6IHRoZW1lLFxyXG4gICAgZnVsbHNjcmVlbjogZnVsbHNjcmVlbixcclxuICAgIGRvd25sb2FkOiBkb3dubG9hZCxcclxuICAgIGF1dG9maXQ6IGF1dG9maXQsXHJcbiAgICBuZXh0OiBuZXh0LFxyXG4gICAgcHJldjogcHJldixcclxuICAgIGdvdG86IGdvdG8sXHJcbiAgICBjbG9zZTogY2xvc2UsXHJcbiAgICB6b29tOiB6b29tLFxyXG4gICAgbWVudTogbWVudSxcclxuICAgIHNob3c6IHNob3csXHJcbiAgICBwbGF5OiBwbGF5LFxyXG4gICAgYWRkQ29udHJvbDogYWRkQ29udHJvbCxcclxuICAgIHJlbW92ZUNvbnRyb2w6IHJlbW92ZUNvbnRyb2xcclxufTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(sc_client)/./node_modules/spotlight.js/src/js/spotlight.js\n");

/***/ }),

/***/ "(sc_client)/./node_modules/spotlight.js/src/js/template.js":
/*!******************************************************!*\
  !*** ./node_modules/spotlight.js/src/js/template.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper.js */ \"(sc_client)/./node_modules/spotlight.js/src/js/helper.js\");\n\r\n\r\nconst template = (0,_helper_js__WEBPACK_IMPORTED_MODULE_0__.createElement)(\"div\");\r\ntemplate.id = \"spotlight\";\r\ntemplate.innerHTML = (\r\n\r\n    // the spinner needs to be a separated element to apply animation\r\n    '<div class=spl-spinner></div>' +\r\n\r\n    // the wrapper \"spl-track\" is required to forward pointer events\r\n    '<div class=spl-track>' +\r\n        '<div class=spl-scene>' +\r\n            '<div class=spl-pane></div>' +\r\n        '</div>' +\r\n    '</div>' +\r\n    '<div class=spl-header>' +\r\n        '<div class=spl-page> </div>' +\r\n        // added via addControl()\r\n        /*\r\n        '<div class=spl-close></div>' +\r\n        '<div class=spl-fullscreen></div>' +\r\n        '<div class=spl-autofit></div>' +\r\n        '<div class=spl-zoom-in></div>' +\r\n        '<div class=spl-zoom-out></div>' +\r\n        '<div class=spl-theme></div>' +\r\n        '<div class=spl-play></div>' +\r\n        '<div class=spl-download></div>' +\r\n         */\r\n    '</div>' +\r\n    '<div class=spl-progress></div>' +\r\n    '<div class=spl-footer>' +\r\n        '<div class=spl-title> </div>' +\r\n        '<div class=spl-description> </div>' +\r\n        '<div class=spl-button> </div>' +\r\n    '</div>' +\r\n    '<div class=spl-prev></div>' +\r\n    '<div class=spl-next></div>'\r\n);\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (template);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNjX2NsaWVudCkvLi9ub2RlX21vZHVsZXMvc3BvdGxpZ2h0LmpzL3NyYy9qcy90ZW1wbGF0ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE0QztBQUM1QztBQUNBLGlCQUFpQix5REFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxRQUFRLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3Nwb3RsaWdodC5qcy9zcmMvanMvdGVtcGxhdGUuanM/ZTNkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSBcIi4vaGVscGVyLmpzXCI7XHJcblxyXG5jb25zdCB0ZW1wbGF0ZSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbnRlbXBsYXRlLmlkID0gXCJzcG90bGlnaHRcIjtcclxudGVtcGxhdGUuaW5uZXJIVE1MID0gKFxyXG5cclxuICAgIC8vIHRoZSBzcGlubmVyIG5lZWRzIHRvIGJlIGEgc2VwYXJhdGVkIGVsZW1lbnQgdG8gYXBwbHkgYW5pbWF0aW9uXHJcbiAgICAnPGRpdiBjbGFzcz1zcGwtc3Bpbm5lcj48L2Rpdj4nICtcclxuXHJcbiAgICAvLyB0aGUgd3JhcHBlciBcInNwbC10cmFja1wiIGlzIHJlcXVpcmVkIHRvIGZvcndhcmQgcG9pbnRlciBldmVudHNcclxuICAgICc8ZGl2IGNsYXNzPXNwbC10cmFjaz4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1zcGwtc2NlbmU+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPXNwbC1wYW5lPjwvZGl2PicgK1xyXG4gICAgICAgICc8L2Rpdj4nICtcclxuICAgICc8L2Rpdj4nICtcclxuICAgICc8ZGl2IGNsYXNzPXNwbC1oZWFkZXI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9c3BsLXBhZ2U+IDwvZGl2PicgK1xyXG4gICAgICAgIC8vIGFkZGVkIHZpYSBhZGRDb250cm9sKClcclxuICAgICAgICAvKlxyXG4gICAgICAgICc8ZGl2IGNsYXNzPXNwbC1jbG9zZT48L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1zcGwtZnVsbHNjcmVlbj48L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1zcGwtYXV0b2ZpdD48L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1zcGwtem9vbS1pbj48L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1zcGwtem9vbS1vdXQ+PC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9c3BsLXRoZW1lPjwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPXNwbC1wbGF5PjwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPXNwbC1kb3dubG9hZD48L2Rpdj4nICtcclxuICAgICAgICAgKi9cclxuICAgICc8L2Rpdj4nICtcclxuICAgICc8ZGl2IGNsYXNzPXNwbC1wcm9ncmVzcz48L2Rpdj4nICtcclxuICAgICc8ZGl2IGNsYXNzPXNwbC1mb290ZXI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9c3BsLXRpdGxlPiA8L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1zcGwtZGVzY3JpcHRpb24+IDwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPXNwbC1idXR0b24+IDwvZGl2PicgK1xyXG4gICAgJzwvZGl2PicgK1xyXG4gICAgJzxkaXYgY2xhc3M9c3BsLXByZXY+PC9kaXY+JyArXHJcbiAgICAnPGRpdiBjbGFzcz1zcGwtbmV4dD48L2Rpdj4nXHJcbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0ZW1wbGF0ZTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(sc_client)/./node_modules/spotlight.js/src/js/template.js\n");

/***/ })

};
;